define(["loglevel","underscore","underscore.string","jquery","fenix-ui-pivotator-utils","fenix-ui-filter-utils","fenix-ui-metadata-viewer","fenix-ui-dropdown","fenix-ui-bridge","fenix-ui-reports","swiper","amplify-pubsub","fenix-ui-filter","fenix-ui-chart-creator","fenix-ui-map-creator","fenix-ui-table-creator"],function(t,e,a,n,i,o,s,r,l,c,u,h,d,p,f,b){return function(t){function e(n){if(a[n])return a[n].exports;var i=a[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,e,a){t.exports=a(1)},function(t,e,a){var n,i;n=[a(22),a(29),a(23),a(24),a(25),a(26),a(27),a(28),a(33),a(34),a(35),a(36),a(37),a(38),a(39),a(2),a(40),a(41),a(42),a(43),a(31),a(44),a(45),a(46),a(47),a(48)],i=function(t,e,n,i,o,s,r,l,c,u,h,d,p,f,b,g,_,m,v,y,S,T,w,x,E){"use strict";function R(n){t.info("Create box"),t.info(n),a(61),e.extend(!0,this,o,{initial:n||{},$el:e(n.el)});var i=this._validateInput();return i===!0?(this._initState(),this._initVariables(),this._initObj(),this._setStatus("loading"),this._renderMenu(),this._bindEventListeners(),this._initTabSources(),this.valid=!0,this._getModelInfo(),this._reactToModelStatus(),this):(this.valid=!1,t.error("Impossible to create visualization box"),t.error(i),this._setObjState("error",i),void 0)}var O={filter:b,map:g,metadata:_},C={BOX:"[data-role='box']",CONTENT_READY:"[data-content='ready']",RIGHT_MENU:"[data-role='right-menu']",FLIP_CONTAINER:"[data-role='flip-container']",FLIP_BUTTONS:"[data-action='flip']",FRONT_CONTENT:"[data-role='front-content']",FRONT_TOOLBAR:"[data-role='front-toolbar']",BACK_TOOLBAR:"[data-role='back-toolbar']",PROCESS_STEPS:"[data-role='process-steps']",PROCESS_DETAILS:"[data-role='process-details']",BACK_CONTENT:"[data-role='back-content']",BOX_TITLE:"[data-role='box-title']",QUERY_BUTTON:"[data-action='query']",ERROR_TEXT:"[data-role='error-text']",EMPTY_FILTER_BUTTON:"[data-content='empty'] [data-action='filter'], [data-content='error'] [data-action='filter']",BACK_FILTER_ERRORS:"[data-role='filter-error']",FILTER_AGGREGATION_TEMPLATE:"[data-role='filter-aggregation-template']",FILTER_FILTER_TEMPLATE:"[data-role='filter-filter-template']",FILTER_MAP_TEMPLATE:"[data-role='filter-map-template']",ROWS_SWIPER:"[data-role='filter-rows-swiper']",BTN_SIDEBAR:"[data-action='show-back-sidebar']",SIDEBAR:"[data-role='back-sidebar']",FRONT_FACE:"[data-face='front']",BACK_FACE:"[data-face='back']",OTHER_CONTENT:"[data-content='empty'], [data-content='error'], [data-content='huge']"},L="./tabs/";return R.prototype.render=function(a){t.info("Render model for box ["+this.id+"]:"),t.info(a),e.extend(!0,this,a),this._reactToModelStatus()},R.prototype.dispose=function(){this._dispose(),t.info("Box ["+this.id+"] disposed")},R.prototype.setStatus=function(t){this._setStatus(t)},R.prototype.showTab=function(t,e){this._showFrontTab(t,e)},R.prototype.setSize=function(t){this._setSize(t)},R.prototype.flip=function(t){return this._flip(t)},R.prototype.on=function(t,e,a){var n=a||this;return this.channels[t]||(this.channels[t]=[]),this.channels[t].push({context:n,callback:e}),this},R.prototype.getState=function(){return this.state},R.prototype._validateInput=function(){var e=!0,a=[];return this.id||(window.fx_vis_box_id>=0?window.fx_vis_box_id++:window.fx_vis_box_id=0,this.id="fx-box-"+window.fx_vis_box_id,this._setObjState("id",this.id),t.info("Set box id: "+this.id)),0===this.$el.length&&(a.push({code:s.MISSING_CONTAINER}),t.warn("Impossible to find box container")),a.length>0?a:e},R.prototype._initVariables=function(){this.front_tab_instances={},this.back_tab_instances={},this.bridge=new T({environment:this._getObjState("environment"),cache:this._getObjState("cache")}),this.report=new w({environment:this._getObjState("environment"),cache:this._getObjState("cache")})},R.prototype._initObj=function(){var t=e(h(e.extend(!0,{},this.getState(),S[this.lang.toLowerCase()])));this.$el.html(t),this.channels={},this.hasMenu=this.$el.find(C.RIGHT_MENU).length>0,this.flip(this._getObjState("face")),this.$processSteps=this.$el.find(C.PROCESS_STEPS),this.$processStepDetails=this.$el.find(C.PROCESS_DETAILS),this.$boxTitle=this.$el.find(C.BOX_TITLE)},R.prototype._initState=function(){var t=this.initial.lang||o.lang;t=t.toLowerCase(),this._setObjState("lang",t),this._setObjState("hideToolbar",!!this.initial.hideToolbar),this._setObjState("hideMenu",!!this.initial.hideMenu),this._setObjState("hideMetadataButton",!!this.initial.hideMetadataButton),this._setObjState("hideRemoveButton",!!this.initial.hideRemoveButton),this._setObjState("hideDownloadButton",!!this.initial.hideDownloadButton),this._setObjState("hideCloneButton",!!this.initial.hideCloneButton),this._setObjState("hideFlipButton",!!this.initial.hideFlipButton),this._setObjState("hideMinimizeButton",!!this.initial.hideMinimizeButton),this._setObjState("tabStates",this.initial.tabStates||{}),this._setObjState("tabOptions",this.initial.tabOptions||{}),this._setObjState("tab",this.initial.tab),this._setObjState("face",this.initial.face||o.face),this._setObjState("faces",this.initial.faces||o.faces),this._setObjState("model",this.initial.model),this._setObjState("version",this.initial.version?this.initial.version:void 0),this._setObjState("values",this.initial.values),this._setObjState("process",this.initial.process||[]),this._setObjState("uid",this.initial.uid||l.getNestedProperty("metadata.uid",this._getObjState("model"))),this._setObjState("size",this.initial.size||o.size),this._setObjState("status",this.initial.status||o.status),this._setObjState("environment",this.initial.environment),this._setObjState("maxDataSize",this.initial.maxDataSize||o.maxDataSize),this._setObjState("minDataSize",this.initial.minDataSize||o.minDataSize),this._setObjState("cache","boolean"==typeof this.initial.cache?this.initial.cache:o.cache),this._setObjState("backFilter",this.initial.backFilter),this._setObjState("backMap",this.initial.backMap);var a=e.extend(!0,this.initial.loadResourceServiceQueryParams||o.loadResourceServiceQueryParams,{language:this._getObjState("lang")});this._setObjState("loadResourceServiceQueryParams",a),this._setObjState("menuModel",this.initial.menu||v),this._setObjState("title",this.initial.title||this._getModelTitle),this._setObjState("showFilter","boolean"==typeof this.initial.showFilter&&this.initial.showFilter)},R.prototype._setObjState=function(t,e){return l.assign(this.state,t,e),e},R.prototype._getObjState=function(t){return l.getNestedProperty(t,this.getState())},R.prototype._reactToModelStatus=function(e){t.info("React to model status: "),t.info(e),this._setObjState("error",null);var a=e||this._getModelStatus();switch(t.info("Status found: "),t.info(a),a){case"ready":this._getModelInfo(),this._renderBox();break;case"empty":this.setStatus("empty");break;case"huge":this.setStatus("huge");break;case"no_model":this.setStatus("loading");break;case"to_load":this._loadResource().then(n.bind(this._onLoadResourceSuccess,this),n.bind(this._onLoadResourceError,this));break;case"missing_metadata":this._loadResourceMetadata().then(n.bind(this._loadResourceMetadataSuccess,this),n.bind(this._loadResourceMetadataError,this));break;case"to_filter":this._forceModelFilter();break;default:this.setStatus("error")}},R.prototype._getModelStatus=function(){var t=(this._getObjState("uid"),this._getObjState("process"),this._getObjState("version"),this._getObjState("model")),e=this._getObjState("model.metadata"),a=this._getObjState("resourceRepresentationType");if(n.isEmpty(e))return"missing_metadata";if("dataset"===a&&t){if("object"!=typeof t)return"error";if(!t.size||0===t.size)return"empty";if(!Array.isArray(t.data))return"to_filter";if(Array.isArray(t.data)&&t.data.length<=this._getObjState("minDataSize"))return"empty";if(t.size>this._getObjState("maxDataSize"))return"huge";if(Array.isArray(t.data)&&t.data.length>0)return"ready"}if("geographic"===a){var i=this._getObjState("model.metadata.dsd"),o=i.workspace,r=i.layerName;if(o&&r)return"ready"}return this._setObjState("error",{code:s.RESOURCE_STATUS}),"error"},R.prototype._loadResource=function(a){t.info("Loading FENIX resource"),this.setStatus("loading"),this._setObjState("showFilter",!0);var n=this._getObjState("loadResourceServiceQueryParams"),i=Array.isArray(a)?a:[];return this._setObjState("process",i.slice(0)),this.bridge.getProcessedResource({body:i,uid:this._getObjState("uid"),version:this._getObjState("version"),params:e.extend(!0,{},n)})},R.prototype._onLoadResourceError=function(e){t.error("Impossible to load resource"),t.error(e),t.error({code:s.LOAD_RESOURCE}),this._setObjState("error",{code:s.LOAD_RESOURCE,filter:!0}),this._setStatus("error")},R.prototype._onLoadResourceSuccess=function(e){t.info("Load resource success"),this._disposeBoxFaces(),this._updateModel(e),this._getModelInfo(),this.setStatus("ready"),this._reactToModelStatus()},R.prototype._updateModel=function(t){var e=this._getObjState("model")||{},a=l.getNestedProperty("metadata",t),i=l.getNestedProperty("dsd",a)||{},o=l.getNestedProperty("data",t),s=l.getNestedProperty("size",t),r=n.without(Object.keys(i),"rid");r.length>0&&l.assign(e,"metadata.dsd",i),Array.isArray(o)&&l.assign(e,"data",o),e.size!==s&&l.assign(e,"size",s),this._setObjState("model",e)},R.prototype._loadResourceMetadata=function(){t.info("Loading FENIX resource metadata"),this.setStatus("loading");var a=this._getObjState("loadResourceServiceQueryParams");return this.bridge.getMetadata({uid:this._getObjState("uid"),version:this._getObjState("version"),params:e.extend(a,{dsd:!0,full:!0})})},R.prototype._loadResourceMetadataError=function(){t.error("Impossible to load resource"),t.error({code:s.LOAD_METADATA}),this._setObjState("error",{code:s.LOAD_METADATA}),this._setStatus("error")},R.prototype._loadResourceMetadataSuccess=function(e){t.info("Load resource metadata success"),t.info(e),this._setObjState("model",{metadata:e}),this._checkResourceType()},R.prototype._checkResourceType=function(){t.info("Check Resource type"),this._getModelInfo();var e=this._getObjState("resourceRepresentationType");switch(t.info("Check resource type: "+e),e){case"dataset":var a=l.getNestedProperty("metadata.dsd.datasources",this._getObjState("model"));n.isArray(a)&&a.length>0?this._getObjState("process").length>0?(t.info("Process present. Load resource instead of fetch()"),this._loadResource(this._getObjState("process")).then(n.bind(this._onLoadResourceSuccess,this),n.bind(this._onLoadResourceError,this))):this._fetchResource().then(n.bind(this._fetchResourceSuccess,this),n.bind(this._fetchResourceError,this)):(t.error({code:s.UNKNOWN_RESOURCE_TYPE}),this._setObjState("error",{code:s.MISSING_DATASOURCES}),this._setStatus("error"));break;case"geographic":this.setStatus("ready"),this._reactToModelStatus();break;default:t.error({code:s.UNKNOWN_RESOURCE_TYPE}),this._setObjState("error",{code:s.UNKNOWN_RESOURCE_TYPE}),this._setStatus("error")}},R.prototype._fetchResource=function(){return t.info("Fetching FENIX resource"),this.setStatus("loading"),this._setObjState("showFilter",!1),this.bridge.getResource({body:[],uid:this._getObjState("uid"),version:this._getObjState("version"),params:e.extend(!0,{},{perPage:1})})},R.prototype._fetchResourceError=function(e){t.error("Impossible to fetch resource"),t.error(e),t.error({code:s.FETCH_RESOURCE}),this._setObjState("error",{code:s.FETCH_RESOURCE}),this._setStatus("error")},R.prototype._fetchResourceSuccess=function(e){t.info("Fetch resource success"),this._updateModel(e),this._checkModelSize()},R.prototype._checkModelSize=function(){var t=this._getModelStatus();switch(t.toLowerCase()){case"ready":this._reactToModelStatus("to_load");break;default:this._reactToModelStatus(t)}},R.prototype._getModelInfo=function(){var e=this._getObjState("model.metadata.meContent.resourceRepresentationType")||"",a=e.toLowerCase();t.info("Resource type is: "),t.info(a),this._setObjState("resourceRepresentationType",a)},R.prototype._renderBox=function(){t.info("Render box start:"),this._setStatus("ready"),this._renderBoxFaces()},R.prototype._initTabSources=function(){var a=e.extend(!0,{},this.pluginRegistry),i=this.tabs,o=Object.keys(i),s=[];n.each(o,n.bind(function(n){var o=a[n];o||t.error('Registration not found for "'+n+' tab".'),e.isPlainObject(i[n])||this._setObjState("tabs."+n,{}),this._setObjState("tabs."+n+".suitable",!1),o.path?s.push(o.path):t.error('Impossible to find path configuration for "'+n+' tab".')},this)),t.info("Tab paths found: "),t.info(s)},R.prototype._renderBoxFaces=function(){t.info("Render box faces"),this._renderFrontFace(),this._renderBackFace(),this._updateBoxTitle()},R.prototype._updateBoxTitle=function(){var t=this._getObjState("title"),e="function"==typeof t?t.call(this,this._getObjState("model")):t;this.$boxTitle.html(e)},R.prototype._getModelTitle=function(t){var e=l.getNestedProperty("metadata.title",t),a=l.getNestedProperty("metadata.uid",t);return this._getI18nLabel(e)||a},R.prototype._getI18nLabel=function(t){if("object"!=typeof t)return"";var e=this.langFallbackOrder.slice(0),a="Missing label";e.unshift(this.lang),e=n.uniq(e);for(var i=0;i<e.length&&!(a=t[e[i]]);i++);return a},R.prototype._validateValues=function(t){this._hideFilterError();var e=!0,a=this._getObjState("model"),i=l.getNestedProperty("metadata.dsd.columns",a)||[],o=l.cleanArray(i.map(function(t){if(t.key===!0)return t.id})),r=[],c=l.getNestedProperty("aggregations.values.aggregations",t)||[],u=l.getNestedProperty("filter.values",t)||{},h=Object.keys(u)||[],d=n.findWhere(i,{subject:"value"})||{},p=d.id,f=n.where(c,{parent:"sum"}).map(function(t){return t.value}),b=n.where(c,{parent:"avg"}).map(function(t){return t.value}),g=n.where(c,{parent:"first"}).map(function(t){return t.value}),_=n.where(c,{parent:"last"}).map(function(t){return t.value}),m=n.where(c,{parent:"group"}).map(function(t){return t.value}),v=parseInt(f.length,10),y=parseInt(b.length,10),S=parseInt(g.length,10),T=parseInt(_.length,10),w=parseInt(m.length,10),x=v+y+S+T;if(n.each(f,function(t){var e=n.findWhere(i,{id:t})||{},a=e.dataType;"number"!==a&&r.push({code:s.NO_NUMBER_DATATYPE,value:t,label:n.findWhere(c,{value:t}).label})}),n.each(b,function(t){var e=n.findWhere(i,{id:t})||{},a=e.dataType;"number"!==a&&r.push({code:s.NO_NUMBER_DATATYPE,value:t,label:n.findWhere(c,{value:t}).label})}),n.contains(m,p)){var E=n.findWhere(c,{value:p});r.push({code:s.VALUE_IN_GROUP_BY,value:E.value,label:E.label})}if(x>0&&0===w&&r.push({code:s.MISSING_GROUP_BY}),w>0){var R=n.contains(f,p)||n.contains(b,p)||n.contains(g,p)||n.contains(_,p);R||r.push({code:s.MISSING_VALUE_IN_AGGREGATION_RULES})}var O=n.difference(o,h);if(h.length>0&&O.length>0){var C=n.map(O,n.bind(function(t){return n.findWhere(i,{id:t}).title[this.lang]},this));r.push({code:s.EXCLUDE_KEY_DIMENSION,value:C,label:C.join(", ")})}return r.length>0?r:e},R.prototype._createQuery=function(e){function a(e){var a={name:"filter",parameters:{}},i=!1,o=Object.keys(l.getNestedProperty("filter.values",e)||{}),s=e.rows||{},c=l.getNestedProperty("metadata.dsd.columns",r._getObjState("model"))||[],u=c.filter(function(t){return!t.id.endsWith("_"+r.lang.toUpperCase())}).map(function(t){return t.id}).sort(),h=n.findWhere(c,{subject:"value"});return Object.getOwnPropertyNames(s).length>0?(a.parameters.rows=s,i=!0):t.warn("Filter.rows not included"),o.length>0&&!n.contains(o,h.id)&&o.push(h.id),o=o.sort(),o.length>0&&!n.isEqual(u,o)?(a.parameters.columns=o,i=!0):t.warn("Filter.columns not included"),i?a:null}function i(t){if(t.aggregations){var e={name:"group",parameters:{}},a=!1,i=l.getNestedProperty("aggregations.values.aggregations",t),o=[],s=[],r=[],c=[],u=[],h=[];return n.each(i,function(t){switch(t.parent.toLowerCase()){case"group":o.push(t.value);break;case"sum":s.push(t.value);break;case"avg":r.push(t.value);break;case"first":c.push(t.value);break;case"last":u.push(t.value)}}),s=l.cleanArray(s).map(function(t){return{columns:[t],rule:"SUM"}}),r=l.cleanArray(r).map(function(t){return{columns:[t],rule:"AVG"}}),c=l.cleanArray(c).map(function(t){return{columns:[t],rule:"FIRST"}}),u=l.cleanArray(u).map(function(t){return{columns:[t],rule:"LAST"}}),o.length>0&&(e.parameters.by=l.cleanArray(o),a=!0),n.each([s,r,c,u],function(t){t.length>0&&(h=n.uniq(n.union(h,t),!1))}),h.length>0&&(e.parameters.aggregations=h,a=!0),a?e:null}}var o,s,r=this,c=[];return o=a(e),s=i(e),o&&c.push(o),s&&c.push(s),c},R.prototype._renderFrontFace=function(){t.info("Start rendering box front face");var e=this._getObjState("faces");return n.contains(e,"front")&&this.frontFaceIsRendered!==!0?(this.frontFaceIsRendered=!0,this._checkSuitableTabs(),"dataset"===this._getObjState("resourceRepresentationType")?this._showMenuItem("download"):t.warn("Download menu item not show because resource is not 'dataset'"),void this._showDefaultFrontTab()):void t.warn("Abort 'front' face rendering. face is already rendered: "+this.frontFaceIsRendered+", config render face: "+n.contains(e,"front"))},R.prototype._bindFrameEventListeners=function(){var a=this;this.$el.find(C.FRONT_FACE).find("[data-action]").each(function(){var n=e(this),i=n.data("action"),o=a._getEventTopic(i);n.on("click",{event:o,box:a},function(e){e.preventDefault(),t.info("Raise event: "+e.data.event),E.publish(o,{target:this,box:e.data.box,state:a.getState()})})})},R.prototype._showFrontTab=function(e,a,i){t.info("Show tab "+e),t.info(a);var o=this.tabs;if(!o[e])return t.error("Error on show tab content: ",e),t.error({code:s.MISSING_TAB}),this._setObjState("error",{code:s.MISSING_TAB}),void this._setStatus("error");var r=this._getObjState("tab"),c=this._getObjState("tabOptions")[r];return!i&&r===e&&n.isEqual(c,a)?void t.info("Aborting show tab current tab is equal to selected one"):this._getObjState("tabs."+e+".suitable")!==!0?void t.error("Aborting show tab because selected tab is not suitable with current model"):(t.info("Show '"+e+"' tab for result id: "+this.id),a||(a=l.getNestedProperty("options",this.tabs[e])),this._setObjState("tab",e),this._setObjState("tabOptions."+e,a),this.$el.find(C.CONTENT_READY).attr("data-tab",this._getObjState("tab")),void this._showTabContent())},R.prototype._showTabContent=function(){var e=this.tabs,a=this._getObjState("tab");return e[a]?(this._setObjState("tabs."+a+".initialized",!0),void this._callTabInstanceMethod({tab:a,method:"show",opt1:this._getObjState("tabOptions")[a]})):(t.error("Error on show tab content: "+a),t.error({code:s.MISSING_TAB}),this._setObjState("error",{code:s.MISSING_TAB}),void this._setStatus("error"))},R.prototype._createTabInstance=function(t){var i,s=this._getObjState("tabStates."+t)||{},r=e.extend(!0,{},this._getObjState("model")),l=this.pluginRegistry,c=this.lang||o.lang,u=a(69)(this._getPluginPath(l[t])+".js"),h=e.extend(!0,{},s,{el:this._getTabContainer(t),box:this,lang:c,model:r,id:t+"_"+this.id,environment:this._getObjState("environment"),cache:this._getObjState("cache")});return i=new u(h),i.on("filter",n.bind(this._onTabToolbarChangeEvent,this)),i.on("state",n.bind(this._onTabStateChangeEvent,this,t)),this.front_tab_instances[t]=i,i},R.prototype._getTabInstance=function(t,e){return"back"===e?this.back_tab_instances[t]:this.front_tab_instances[t]},R.prototype._getTabContainer=function(t){var a=this.$el.find(C.FRONT_CONTENT).find("[data-section='"+t+"']");return 0===a.length&&(a=e('<div data-section="'+t+'"></div>'),this.$el.find(C.FRONT_CONTENT).append(a)),a},R.prototype._checkSuitableTabs=function(){var e=this.pluginRegistry,a=Object.keys(this.tabs);n.each(a,n.bind(function(a){var n=e[a];n||t.error('Registration not found for "'+a+' tab".'),n.path?(this._createTabInstance(a),this._setObjState("tabs."+a+".suitable",this._callTabInstanceMethod({tab:a,method:"isSuitable"})),t.info(a+" tab is suitable? ",this._callTabInstanceMethod({tab:a,method:"isSuitable"})),this._getObjState("tabs."+a+".suitable")===!0?this._showMenuItem(a):this._hideMenuItem(a)):t.error('Impossible to find path configuration for "'+a+' tab".')},this)),this._syncFrontTabs()},R.prototype._showDefaultFrontTab=function(){var e=this._getObjState("tab")||o.tab,a=this._getObjState("tabs."+e+".suitable"),i=this._getObjState("tabOptions."+e);if(a!==!0){t.warn("Default tab is not suitable. Find first suitable tab to show");var s=Object.keys(this.tabs),r=!1;n.each(s,n.bind(function(t){!r===this._getObjState("tabs."+t+".suitable")==!0&&(e=t)},this))}this._showFrontTab(e,i,!0)},R.prototype._syncFrontTabs=function(){t.info("Send front 'sync' signal");var e=Object.keys(this.tabs);n.each(e,n.bind(function(t){this._getObjState("tabs."+t+".suitable")===!0&&this._callTabInstanceMethod({tab:t,method:"sync",opt1:this._getObjState("sync")||{}})},this))},R.prototype._renderBackFace=function(){t.info("Start rendering box back face");var e=this._getObjState("faces");return n.contains(e,"back")&&this.backFaceIsRendered!==!0?(this.backFaceIsRendered=!0,this._hideFilterError(),this._createProcessSteps(),this._renderProcessSteps(),void this._bindBackFaceEventListeners()):void t.warn("Abort 'front' face rendering. face is already rendered: "+this.backFaceIsRendered+", confing render face: "+n.contains(e,"front"))},R.prototype._bindBackFaceEventListeners=function(){var a=this;this.$el.find(C.BTN_SIDEBAR).on("click",n.bind(function(){this.$el.find(C.SIDEBAR).toggleClass("hidden-xs hidden-sm")},this)),this.$el.find(C.BACK_FACE).find("[data-action]").each(function(){var n=e(this),i=n.data("action"),o=a._getEventTopic(i);n.on("click",{event:o,box:a},function(e){e.preventDefault(),t.info("Raise box event: "+e.data.event),E.publish(o,{target:this,box:e.data.box,state:a.getState()})})})},R.prototype._createProcessSteps=function(){var t,a,n,i;if(t=this._createBackTabConfiguration("filter"),a=this._createBackTabConfiguration("aggregations"),n=this._createBackTabConfiguration("map"),i=e.extend(!0,{},this._getObjState("model")),this.processSteps=[],this._stepControlAccess("metadata")){var o=l.getNestedProperty("metadata.title",i)||{},s=l.getNestedProperty("metadata.uid",i),r=o[this.lang]?o[this.lang]:s;this.processSteps.push({tab:"metadata",id:"metadata",model:i,labels:{title:r}})}this._stepControlAccess("filter")&&this.processSteps.push({id:"filter",tab:"filter",values:t.values,config:t.config,template:t.template,onReady:t.onReady,labels:{title:S[this._getObjState("lang")].step_filter}}),this._stepControlAccess("aggregations")&&this.processSteps.push({id:"aggregations",tab:"filter",values:a.values,config:a.filter,template:a.template,labels:{title:S[this._getObjState("lang")].step_aggregations}}),this._stepControlAccess("map")&&this.processSteps.push({id:"map",tab:"filter",values:n.values,config:n.filter,template:n.template,onReady:n.onReady,labels:{title:S[this._getObjState("lang")].step_map}})},R.prototype._stepControlAccess=function(t){var e=this._getObjState("resourceRepresentationType");switch(t.toLowerCase()){case"metadata":return!0;case"filter":return"dataset"===e;case"aggregations":return"dataset"===e;case"map":return this._getObjState("tabs.map.suitable");default:return!1}},R.prototype._createBackTabConfiguration=function(t){var e,a=this._getObjState("backFilter")||{},n=this._getObjState("backMap")||{};switch(t.toLowerCase()){case"aggregations":e=this._createBackAggregationTabConfiguration(a[t]);break;case"filter":e=this._createBackFilterTabConfiguration(a[t]);break;case"map":e=this._createBackMapTabConfiguration(n[t]);break;default:e={}}return e},R.prototype._createBackFilterTabConfiguration=function(t){var e,a=this,i=["value"],o=["value"],s=l.getNestedProperty("metadata.dsd.columns",this._getObjState("model"))||[],r=s.filter(function(t){return!n.contains(o,t.subject)}),u=r.filter(function(t){return!n.contains(i,t.id.toLowerCase())}).filter(function(t){return!t.id.endsWith("_"+a.lang.toUpperCase())});return e=c.createConfiguration({model:this._getObjState("model"),common:{selector:{hideSummary:!0},template:{hideSwitch:!0}}}),{values:t,config:e,template:d({columns:u}),onReady:n.bind(function(){new x(this.$el.find(C.ROWS_SWIPER),{pagination:this.$el.find(C.ROWS_SWIPER).find(".swiper-pagination"),paginationClickable:!0,nextButton:this.$el.find(C.ROWS_SWIPER).find(".swiper-button-next"),prevButton:this.$el.find(C.ROWS_SWIPER).find(".swiper-button-prev"),slidesPerView:"auto",simulateTouch:!1})},this)}},R.prototype._createBackMapTabConfiguration=function(t){return{values:t,filter:{layers:{selector:{id:"tree",source:n.map(y,function(t){var e=t.Title.replace("area","").replace("3857","");return{label:i.humanize(e),value:"earthstat:"+t.Name}}),config:{core:{multiple:!0}}},dependencies:{layergroups:{id:"focus",event:"select"}},template:{title:"Select layers to show on map",hideSwitch:!0,hideRemoveButton:!0}}},template:p({layers:[]}),onReady:n.bind(function(t){},this)}},R.prototype._createBackAggregationTabConfiguration=function(t){var e=this._getSourceForAggregationTabConfiguration();return{values:t,filter:{aggregations:{selector:{id:"sortable",source:e,config:{groups:{dimensions:S[this._getObjState("lang")].aggregations_dimensions,group:S[this._getObjState("lang")].aggregations_group,sum:S[this._getObjState("lang")].aggregations_sum,avg:S[this._getObjState("lang")].aggregations_avg,first:S[this._getObjState("lang")].aggregations_first,last:S[this._getObjState("lang")].aggregations_last}}}}},template:f(S)}},R.prototype._getSourceForAggregationTabConfiguration=function(){var t=[],e=this.lang,a=l.getNestedProperty("metadata.dsd.columns",this._getObjState("model"));return n.each(a,function(a){var n,i=l.getNestedProperty("title",a);"object"==typeof i&&i[e]?n=i[e]:(window.fx_vis_box_missing_title>=0?window.fx_vis_box_missing_title++:window.fx_vis_box_missing_title=0,n="Missing dimension title ["+a.id+"]"),a.id.endsWith("_"+e.toUpperCase())||t.push({value:a.id,parent:"dimensions",label:n})}),t},R.prototype._renderProcessSteps=function(){function t(){o++,s.length===o&&(this.$el.find(C.BACK_CONTENT).find(C.QUERY_BUTTON).attr("disabled",!1),i._bindStepEventListeners(),i._onBackTabsReady())}var i=this,o=0,s=this.processSteps;n.each(s,n.bind(function(i,o){var s=e(O[i.tab](e.extend(!0,{},i,S,this._getObjState("model"))));this._bindStepLabelEventListeners(s,i),this.$processSteps.append(s);var r=this.pluginRegistry,l=a(69)(this._getPluginPath(r[i.tab])+".js"),c=this.$processStepDetails.find("[data-tab='"+i.id+"']");0===c.length&&(c=e("<li data-tab='"+i.id+"'></li>"),0!==o&&c.hide(),this.$processStepDetails.append(c));var u=new l({el:c,box:this,cache:this._getObjState("cache"),model:e.extend(!0,{},this._getObjState("model")),config:i.config,lang:this.lang,values:i.values||{},id:i.tab+"_"+i.id,labels:i.labels,template:i.template,onReady:i.onReady,environment:this._getObjState("environment")});"function"==typeof i.onReady&&u.on("ready",n.bind(i.onReady,this)),this.back_tab_instances[i.id]=u,t.call(this)},this))},R.prototype._onBackTabsReady=function(){var t=Object.keys(this.back_tab_instances)[0];this._showBackTab(t)},R.prototype._bindStepLabelEventListeners=function(t,e){t.on("click",{step:e},n.bind(function(t){this._showBackTab(t.data.step.id)},this))},R.prototype._showBackTab=function(t){this.$processStepDetails.find(">li").hide(),this.$processStepDetails.find(">li[data-tab='"+t+"']").show(),this.$processSteps.find("[data-tab]").removeClass("active"),this.$processSteps.find("[data-tab='"+t+"']").addClass("active"),this.back_tab_instances[t].show(this._getBackSyncModel())},R.prototype._bindStepEventListeners=function(){var t=this.back_tab_instances.aggregations,e=this.back_tab_instances.filter;t&&e&&(e.on("change",n.bind(this._onBackFilterChangeEvent,this)),t.on("change",n.bind(this._onBackFilterChangeEvent,this)))},R.prototype._onBackFilterChangeEvent=function(){var e=this._getBackFilterValues(),a=this._validateValues(e);return a!==!0?void this._printFilterError(a):(t.warn("Invalid back filter values:"),t.warn(a),void this._syncBackTabs())},R.prototype._getBackSyncModel=function(){function a(e){var a=n.findWhere(h,{value:e}),o=n.findWhere(s,{value:e});return o||!e?void t.info("Not include dimension because already present: "+e):void(a?s.push(a):s.push({value:e,parent:"dimensions",label:n.findWhere(b,{id:e}).title[i.lang]}))}var i=this,o={},s=[],r=this._getBackFilterValues(),c=l.getNestedProperty("metadata.dsd.columns",i._getObjState("model"))||[],u=c.filter(function(t){return!t.id.endsWith("_"+i.lang.toUpperCase())}).map(function(t){return t.id}).sort(),h=l.getNestedProperty("aggregations.values.aggregations",r)||[],d=l.getNestedProperty("filter.values",r)||{},p=Object.keys(d).length>0?Object.keys(d):u,f=!e.isEmptyObject(d),b=l.getNestedProperty("metadata.dsd.columns",this._getObjState("model"))||[],g=n.map(b,function(t){return t.id}),_=n.without.apply(n,[g].concat(p)),m=n.findWhere(b,{subject:"value"})||{};return f===!0||h.length>0?(n.each(h,n.bind(function(t){n.contains(_,t.value)&&m.id!==t.value||a(t.value)},this)),n.each(g,n.bind(function(t){n.contains(_,t)||n.findWhere(s,{value:t})||a(t)},this))):s=this._getSourceForAggregationTabConfiguration(),a(m.id),s.length>0&&l.assign(o,"values.aggregations",s),o},R.prototype._syncBackTabs=function(){var t=this.back_tab_instances.aggregations,e=this._getBackSyncModel();t&&t.setValues(e)},R.prototype._bindEventListeners=function(){var a=this;E.subscribe(this._getEventTopic("remove"),this,this._onRemoveEvent),E.subscribe(this._getEventTopic("resize"),this,this._onResizeEvent),E.subscribe(this._getEventTopic("clone"),this,this._onCloneEvent),E.subscribe(this._getEventTopic("flip"),this,this._onFlipEvent),E.subscribe(this._getEventTopic("metadata"),this,this._onMetadataEvent),E.subscribe(this._getEventTopic("tab"),this,this._onTabEvent),E.subscribe(this._getEventTopic("minimize"),this,this._onMinimizeEvent),E.subscribe(this._getEventTopic("query"),this,this._onQueryEvent),E.subscribe(this._getEventTopic("filter"),this,this._onFilterEvent),E.subscribe(this._getEventTopic("download"),this,this._onDownloadEvent),this.$el.find(C.RIGHT_MENU).on("click","a",function(t){t.preventDefault()}),this.$el.find(C.OTHER_CONTENT).find("[data-action]").each(function(){var n=e(this),i=n.data("action"),o=a._getEventTopic(i);n.on("click",{event:o,box:a},function(e){e.preventDefault(),t.info("Raise box event: "+e.data.event),E.publish(o,{target:this,box:e.data.box,state:a.getState()})})}),this.report.on("export.success",function(){}),this._bindFrameEventListeners()},R.prototype._onRemoveEvent=function(a){t.info("Listen to event: "+this._getEventTopic("remove")),t.info(a);var n=confirm(S.confirm_remove),i=e.extend(!0,{},this.getState());1==n?(E.publish(r.remove,this),this._dispose(),this._trigger("remove",i)):t.info("Abort remove")},R.prototype._onResizeEvent=function(a){t.info("Listen to event: "+this._getEventTopic("resize")),t.info(a);var n;a.target&&e(a.target).data("size")&&(n=e(a.target).data("size"),t.info("Size: "+n),this._setSize(n))},R.prototype._onCloneEvent=function(a){t.info("Listen to event: "+this._getEventTopic("clone")),t.info(a);var n=e.extend(!0,{},this.getState());E.publish(this._getEventTopic("clone",!0),n),this._trigger("clone",n)},R.prototype._onFlipEvent=function(e){t.info("Listen to event: "+this._getEventTopic("flip")),t.info(e),"back"!==this._getObjState("face")?this._flip("back"):this._flip("front"),t.info("Set box face to: "+this._getObjState("face"))},R.prototype._onMetadataEvent=function(e){t.info("Listen to event: "+this._getEventTopic("metadata")),t.info(e),this.showTab("metadata")},R.prototype._onMinimizeEvent=function(a){t.info("Listen to event: "+this._getEventTopic("minimize")),t.info(a);var n=e.extend(!0,{},this.getState());E.publish(this._getEventTopic("minimize",!0),n),this._trigger("minimize",n),this.dispose()},R.prototype._onTabEvent=function(a){t.info("Listen to event: "+this._getEventTopic("tab")),t.info(a);var n={};n.type=e(a.target).data("type"),this._showFrontTab(e(a.target).data("tab"),n)},R.prototype._onTabToolbarChangeEvent=function(e){n.isEmpty(e.values)?t.warn("Abort sync"):(this._setObjState("sync.toolbar",e),
this._syncFrontTabs())},R.prototype._onTabStateChangeEvent=function(t,e){this._setObjState("tabStates."+t,e)},R.prototype._onQueryEvent=function(a){function i(t){var e=!0;return n.each(t,function(t){(!Array.isArray(t)||t.length>0)&&(e=!1)}),e}t.info("Listen to event: "+this._getEventTopic("query")),t.info(a);var o=this._getBackFilterValues(),s=this._validateValues(o),r=this._getBackMapValues(),c=i(l.getNestedProperty("map.values",r));if(s===!0){this._enableFlip();var u=this._createQuery(o)||[];n.isEqual(u,this._getObjState("process"))?t.warn("Abort resource filter because process have not changed"):(this._setObjState("backFilter",e.extend(!0,{},o)),this._setObjState("process",u.slice(0)),t.info("D3P process",u),this._loadResource(u).then(n.bind(this._onLoadResourceSuccess,this),n.bind(this._onLoadResourceError,this))),c||n.isEqual(r,this._getObjState("backMap"))?t.warn("Abort map update because values have not changed"):(this._setObjState("backMap",e.extend(!0,{},r)),this._updateMap()),this._flip("front")}else this._printFilterError(s)},R.prototype._updateMap=function(){if(this._getObjState("tabs.map.suitable")!==!0)return void t.warn("Abort map update because map table is not suitable for current resource");var e=this._getObjState("backMap").map;this._setObjState("sync.map",e),this._syncFrontTabs();var a=this._getObjState("tab");this._showFrontTab(a)},R.prototype._onDownloadEvent=function(a){if(t.info("Listen to event: "+this._getEventTopic("download")),t.info(a),"dataset"!==this._getObjState("resourceRepresentationType"))return void t.warn("Abort download because resource is not 'dataset'");var n=e(a.target).attr("data-target")||"";switch(n.toLocaleLowerCase()){case"data":t.info("Data download"),this._downloadData();break;case"metadata":t.info("Metadata download"),this._downloadMetadata();break;default:t.warn("Unknown download target")}},R.prototype._downloadData=function(){var e={resource:this._getObjState("model"),input:{config:{}},output:{config:{lang:this.lang.toUpperCase()}}};t.info("Configure FENIX export: table"),t.info(e),this.report["export"]({format:"table",config:e})},R.prototype._downloadMetadata=function(){var e=this._getObjState("model"),a=l.getNestedProperty("metadata.title",e)||{},n=a[this.lang]?a[this.lang]:"fenix_export",i=l.getNestedProperty("metadata.dsd.contextSystem",e),o="uneca"===i?i:"fao",s={resource:{metadata:{uid:l.getNestedProperty("metadata.uid",e)},data:[]},input:{config:{}},output:{config:{template:o,lang:this.lang.toUpperCase(),fileName:n.replace(/[^a-z0-9]/gi,"_")+".pdf"}}};t.info("Configure FENIX export: metadata"),t.info(s),this.report["export"]({format:"metadata",config:s})},R.prototype._onFilterEvent=function(e){t.info("Listen to event: "+this._getEventTopic("filter")),t.info(e),this._forceModelFilter()},R.prototype._flip=function(t){var e=t||"front";switch(e.toLocaleLowerCase()){case"front":this.$el.find(C.FLIP_CONTAINER).removeClass(o.flippedClassName);break;case"back":this.$el.find(C.FLIP_CONTAINER).addClass(o.flippedClassName)}this._setObjState("face",e)},R.prototype._disableFlip=function(){this.$el.find(C.FLIP_BUTTONS).attr("disabled",!0)},R.prototype._enableFlip=function(){this.$el.find(C.FLIP_BUTTONS).attr("disabled",!1)},R.prototype._printFilterError=function(t){var a=this,i={},o=e("<ul class='list-unstyled'></ul>");n.each(t,function(t){i[t.code]||(i[t.code]=[]),i[t.code].push(t.label)}),n.each(i,function(t,n){o.append(e("<li>"+S[a.lang][n]+"</li>"))}),this._showFilterError(o)},R.prototype._showFilterError=function(t){this.$el.find(C.BACK_FILTER_ERRORS).html(t).show()},R.prototype._hideFilterError=function(){this.$el.find(C.BACK_FILTER_ERRORS).hide()},R.prototype._getBackFilterValues=function(){var t=this.forceModelFilter===!0?{}:this._getObjState("backFilter")||{},a=this.back_tab_instances.filter?this.back_tab_instances.filter.getValues(null):null,i=this.back_tab_instances.aggregations?this.back_tab_instances.aggregations.getValues(null):null,o=this.back_tab_instances.filter?this.back_tab_instances.filter.getValues("fenix"):null,s={filter:n.isEmpty(a)?t.filter:a,aggregations:n.isEmpty(i)?t.aggregations:i,rows:n.isEmpty(o)?t.rows:o};return e.extend(!0,{},s)},R.prototype._getBackMapValues=function(){var t=this._getObjState("backMap")||{},a=this.back_tab_instances.map?this.back_tab_instances.map.getValues(null):null,i={map:n.isEmpty(a)?t:a};return e.extend(!0,{},i)},R.prototype._renderMenu=function(){this.hasMenu===!0?this.rightMenu=new m({el:this.$el.find(C.RIGHT_MENU),model:this._getObjState("menuModel")}):t.warn("Menu will not be rendered. Impossible to find container.")},R.prototype._showMenuItem=function(t){this.hasMenu&&this.rightMenu.showItem(t)},R.prototype._hideMenuItem=function(t){this.hasMenu&&this.rightMenu.hideItem(t)},R.prototype._callTabInstanceMethod=function(a){var n=this._getTabInstance(a.tab,a.face);return n&&e.isFunction(n[a.method])?n[a.method](a.opt1,a.opt2):void t.error(a.tab+" tab does not implement the "+a.method+"() fn")},R.prototype._trigger=function(t){if(!this.channels[t])return!1;for(var e=Array.prototype.slice.call(arguments,1),a=0,n=this.channels[t].length;a<n;a++){var i=this.channels[t][a];i.callback.apply(i.context,e)}return this},R.prototype._setStatus=function(e){switch(t.info("Set '"+e+"' status for result id: "+this.id),this._setObjState("status",e),this.$el.find(C.BOX).attr("data-status",this._getObjState("status")),this._getObjState("status").toLowerCase()){case"error":var a=this._getObjState("error");this.$el.find(C.ERROR_TEXT).html(S[this._getObjState("lang")][a.code]?S[this._getObjState("lang")][a.code]:a.code),a.filter===!0?this.$el.find(C.EMPTY_FILTER_BUTTON).show():this.$el.find(C.EMPTY_FILTER_BUTTON).hide();break;case"empty":var n=this.$el.find(C.EMPTY_FILTER_BUTTON);this._getObjState("showFilter")?n.show():n.hide()}},R.prototype._setSize=function(a){if(this._getObjState("size")===a)return void t.info("Aborting resize because current size is equal to selected one");this._setObjState("size",a),this.$el.find(C.BOX).attr("data-size",this._getObjState("size"));var n=e.extend(!0,{},this.getState());E.publish(r.resize,this),this._trigger("resize",n),this._redrawTabs()},R.prototype._redrawTabs=function(){var t=this._getObjState("tab");this._callTabInstanceMethod({tab:t,method:"redraw"}),this._syncFrontTabs()},R.prototype._getEventTopic=function(t,e){var a=r[t]?r[t]:t;return e===!0?a:a+"."+this.id},R.prototype._forceModelFilter=function(){t.warn("Force model filter"),this.forceModelFilter=!0,this._disableFlip(),this._flip("back"),this._renderBackFace(),this._setStatus("ready")},R.prototype._dispose=function(){this._unbindEventListeners(),this._disposeBoxFaces(),this.$el.remove(),this._trigger("dispose"),delete this},R.prototype._disposeBoxFaces=function(){this._disposeFrontFace(),this._disposeBackFace()},R.prototype._disposeFrontFace=function(){var t=this.front_tab_instances,e=Object.keys(t);n.each(e,n.bind(function(t){this._callTabInstanceMethod({tab:t,method:"dispose"})},this)),this.frontFaceIsRendered=!1},R.prototype._disposeBackFace=function(){var t=this.back_tab_instances,e=Object.keys(t);n.each(e,n.bind(function(t){this._callTabInstanceMethod({tab:t,method:"dispose",face:"back"})},this)),this.$el.find(C.BACK_FACE).find("[data-action]").off(),this.$processSteps.empty(),this.backFaceIsRendered=!1},R.prototype._unbindEventListeners=function(){E.unsubscribe(this._getEventTopic("remove"),this._onRemoveEvent),E.unsubscribe(this._getEventTopic("resize"),this._onResizeEvent),E.unsubscribe(this._getEventTopic("clone"),this._onCloneEvent),E.unsubscribe(this._getEventTopic("flip"),this._onFlipEvent),E.unsubscribe(this._getEventTopic("metadata"),this._onMetadataEvent),E.unsubscribe(this._getEventTopic("tab"),this._onTabEvent),E.unsubscribe(this._getEventTopic("minimize"),this._onMinimizeEvent),E.unsubscribe(this._getEventTopic("query"),this._onQueryEvent),E.unsubscribe(this._getEventTopic("filter"),this._onFilterEvent),E.unsubscribe(this._getEventTopic("download"),this._onDownloadEvent),this.$el.find("[data-action]").off(),this.$el.find(C.RIGHT_MENU).off(),this.$el.find(C.OTHER_CONTENT).find("[data-action]").off(),this.$el.find(C.FRONT_FACE).find("[data-action]").off()},R.prototype._getPluginPath=function(t){return L+t.path},R}.apply(e,n),!(void 0!==i&&(t.exports=i))},function(t,e,a){var n=a(3);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var o,s,r=t.escapeExpression;return'<li data-role="step-map" class="step-container" data-tab="'+r((s=null!=(s=a.id||(null!=e?e.id:e))?s:a.helperMissing,"function"==typeof s?s.call(null!=e?e:{},{name:"id",hash:{},data:i}):s))+'">\n    <span class="step-icon icojam_languages"></span>\n    <h6 class="truncate step-title">'+r(t.lambda(null!=(o=null!=e?e.labels:e)?o.title:o,e))+"</h6>\n</li>"},useData:!0})},function(t,e,a){t.exports=a(4)["default"]},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e["default"]=t,e}function o(){var t=new r.HandlebarsEnvironment;return p.extend(t,r),t.SafeString=c["default"],t.Exception=h["default"],t.Utils=p,t.escapeExpression=p.escapeExpression,t.VM=b,t.template=function(e){return b.template(e,t)},t}e.__esModule=!0;var s=a(5),r=i(s),l=a(19),c=n(l),u=a(7),h=n(u),d=a(6),p=i(d),f=a(20),b=i(f),g=a(21),_=n(g),m=o();m.create=o,_["default"](m),m["default"]=m,e["default"]=m,t.exports=e["default"]},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,a){this.helpers=t||{},this.partials=e||{},this.decorators=a||{},l.registerDefaultHelpers(this),c.registerDefaultDecorators(this)}e.__esModule=!0,e.HandlebarsEnvironment=i;var o=a(6),s=a(7),r=n(s),l=a(8),c=a(16),u=a(18),h=n(u),d="4.0.5";e.VERSION=d;var p=7;e.COMPILER_REVISION=p;var f={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=f;var b="[object Object]";i.prototype={constructor:i,logger:h["default"],log:h["default"].log,registerHelper:function(t,e){if(o.toString.call(t)===b){if(e)throw new r["default"]("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(o.toString.call(t)===b)o.extend(this.partials,t);else{if("undefined"==typeof e)throw new r["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(o.toString.call(t)===b){if(e)throw new r["default"]("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var g=h["default"].log;e.log=g,e.createFrame=o.createFrame,e.logger=h["default"]},function(t,e){"use strict";function a(t){return u[t]}function n(t){for(var e=1;e<arguments.length;e++)for(var a in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],a)&&(t[a]=arguments[e][a]);return t}function i(t,e){for(var a=0,n=t.length;a<n;a++)if(t[a]===e)return a;return-1}function o(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return d.test(t)?t.replace(h,a):t}function s(t){return!t&&0!==t||!(!b(t)||0!==t.length)}function r(t){var e=n({},t);return e._parent=t,e}function l(t,e){return t.path=e,t}function c(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=n,e.indexOf=i,e.escapeExpression=o,e.isEmpty=s,e.createFrame=r,e.blockParams=l,e.appendContextPath=c;var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},h=/[&<>"'`=]/g,d=/[&<>"'`=]/,p=Object.prototype.toString;e.toString=p;var f=function(t){return"function"==typeof t};f(/x/)&&(e.isFunction=f=function(t){return"function"==typeof t&&"[object Function]"===p.call(t)}),e.isFunction=f;var b=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===p.call(t)};e.isArray=b},function(t,e){"use strict";function a(t,e){var i=e&&e.loc,o=void 0,s=void 0;i&&(o=i.start.line,s=i.start.column,t+=" - "+o+":"+s);for(var r=Error.prototype.constructor.call(this,t),l=0;l<n.length;l++)this[n[l]]=r[n[l]];Error.captureStackTrace&&Error.captureStackTrace(this,a),i&&(this.lineNumber=o,this.column=s)}e.__esModule=!0;var n=["description","fileName","lineNumber","message","name","number","stack"];a.prototype=new Error,e["default"]=a,t.exports=e["default"]},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){s["default"](t),l["default"](t),u["default"](t),d["default"](t),f["default"](t),g["default"](t),m["default"](t)}e.__esModule=!0,e.registerDefaultHelpers=i;var o=a(9),s=n(o),r=a(10),l=n(r),c=a(11),u=n(c),h=a(12),d=n(h),p=a(13),f=n(p),b=a(14),g=n(b),_=a(15),m=n(_)},function(t,e,a){"use strict";e.__esModule=!0;var n=a(6);e["default"]=function(t){t.registerHelper("blockHelperMissing",function(e,a){var i=a.inverse,o=a.fn;if(e===!0)return o(this);if(e===!1||null==e)return i(this);if(n.isArray(e))return e.length>0?(a.ids&&(a.ids=[a.name]),t.helpers.each(e,a)):i(this);if(a.data&&a.ids){var s=n.createFrame(a.data);s.contextPath=n.appendContextPath(a.data.contextPath,a.name),a={data:s}}return o(e,a)})},t.exports=e["default"]},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=a(6),o=a(7),s=n(o);e["default"]=function(t){t.registerHelper("each",function(t,e){function a(e,a,o){c&&(c.key=e,c.index=a,c.first=0===a,c.last=!!o,u&&(c.contextPath=u+e)),l+=n(t[e],{data:c,blockParams:i.blockParams([t[e],e],[u+e,null])})}if(!e)throw new s["default"]("Must pass iterator to #each");var n=e.fn,o=e.inverse,r=0,l="",c=void 0,u=void 0;if(e.data&&e.ids&&(u=i.appendContextPath(e.data.contextPath,e.ids[0])+"."),i.isFunction(t)&&(t=t.call(this)),e.data&&(c=i.createFrame(e.data)),t&&"object"==typeof t)if(i.isArray(t))for(var h=t.length;r<h;r++)r in t&&a(r,r,r===t.length-1);else{var d=void 0;for(var p in t)t.hasOwnProperty(p)&&(void 0!==d&&a(d,r-1),d=p,r++);void 0!==d&&a(d,r-1,!0)}return 0===r&&(l=o(this)),l})},t.exports=e["default"]},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=a(7),o=n(i);e["default"]=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e["default"]},function(t,e,a){"use strict";e.__esModule=!0;var n=a(6);e["default"]=function(t){t.registerHelper("if",function(t,e){return n.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||n.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,a){return t.helpers["if"].call(this,e,{fn:a.inverse,inverse:a.fn,hash:a.hash})})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("log",function(){for(var e=[void 0],a=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var i=1;null!=a.hash.level?i=a.hash.level:a.data&&null!=a.data.level&&(i=a.data.level),e[0]=i,t.log.apply(t,e)})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e["default"]},function(t,e,a){"use strict";e.__esModule=!0;var n=a(6);e["default"]=function(t){t.registerHelper("with",function(t,e){n.isFunction(t)&&(t=t.call(this));var a=e.fn;if(n.isEmpty(t))return e.inverse(this);var i=e.data;return e.data&&e.ids&&(i=n.createFrame(e.data),i.contextPath=n.appendContextPath(e.data.contextPath,e.ids[0])),a(t,{data:i,blockParams:n.blockParams([t],[i&&i.contextPath])})})},t.exports=e["default"]},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){s["default"](t)}e.__esModule=!0,e.registerDefaultDecorators=i;var o=a(17),s=n(o)},function(t,e,a){"use strict";e.__esModule=!0;var n=a(6);e["default"]=function(t){t.registerDecorator("inline",function(t,e,a,i){var o=t;return e.partials||(e.partials={},o=function(i,o){var s=a.partials;a.partials=n.extend({},s,e.partials);var r=t(i,o);return a.partials=s,r}),e.partials[i.args[0]]=i.fn,o})},t.exports=e["default"]},function(t,e,a){"use strict";e.__esModule=!0;var n=a(6),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=n.indexOf(i.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=i.lookupLevel(t),"undefined"!=typeof console&&i.lookupLevel(i.level)<=t){var e=i.methodMap[t];console[e]||(e="log");for(var a=arguments.length,n=Array(a>1?a-1:0),o=1;o<a;o++)n[o-1]=arguments[o];console[e].apply(console,n)}}};e["default"]=i,t.exports=e["default"]},function(t,e){"use strict";function a(t){this.string=t}e.__esModule=!0,a.prototype.toString=a.prototype.toHTML=function(){return""+this.string},e["default"]=a,t.exports=e["default"]},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e["default"]=t,e}function o(t){var e=t&&t[0]||1,a=_.COMPILER_REVISION;if(e!==a){if(e<a){var n=_.REVISION_CHANGES[a],i=_.REVISION_CHANGES[e];throw new g["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+i+").")}throw new g["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function s(t,e){function a(a,n,i){i.hash&&(n=f.extend({},n,i.hash),i.ids&&(i.ids[0]=!0)),a=e.VM.resolvePartial.call(this,a,n,i);var o=e.VM.invokePartial.call(this,a,n,i);if(null==o&&e.compile&&(i.partials[i.name]=e.compile(a,t.compilerOptions,e),o=i.partials[i.name](n,i)),null!=o){if(i.indent){for(var s=o.split("\n"),r=0,l=s.length;r<l&&(s[r]||r+1!==l);r++)s[r]=i.indent+s[r];o=s.join("\n")}return o}throw new g["default"]("The partial "+i.name+" could not be compiled when running in runtime-only mode")}function n(e){function a(e){return""+t.main(i,e,i.helpers,i.partials,s,l,r)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=o.data;n._setup(o),!o.partial&&t.useData&&(s=h(e,s));var r=void 0,l=t.useBlockParams?[]:void 0;return t.useDepths&&(r=o.depths?e!==o.depths[0]?[e].concat(o.depths):o.depths:[e]),(a=d(t.main,a,i,o.depths||[],s,l))(e,o)}if(!e)throw new g["default"]("No environment passed to template");if(!t||!t.main)throw new g["default"]("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var i={strict:function(t,e){if(!(e in t))throw new g["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var a=t.length,n=0;n<a;n++)if(t[n]&&null!=t[n][e])return t[n][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:f.escapeExpression,invokePartial:a,fn:function(e){var a=t[e];return a.decorator=t[e+"_d"],a},programs:[],program:function(t,e,a,n,i){var o=this.programs[t],s=this.fn(t);return e||i||n||a?o=r(this,t,s,e,a,n,i):o||(o=this.programs[t]=r(this,t,s)),o},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var a=t||e;return t&&e&&t!==e&&(a=f.extend({},e,t)),a},noop:e.VM.noop,compilerInfo:t.compiler};return n.isTop=!0,n._setup=function(a){a.partial?(i.helpers=a.helpers,i.partials=a.partials,i.decorators=a.decorators):(i.helpers=i.merge(a.helpers,e.helpers),t.usePartial&&(i.partials=i.merge(a.partials,e.partials)),(t.usePartial||t.useDecorators)&&(i.decorators=i.merge(a.decorators,e.decorators)))},n._child=function(e,a,n,o){if(t.useBlockParams&&!n)throw new g["default"]("must pass block params");if(t.useDepths&&!o)throw new g["default"]("must pass parent depths");return r(i,e,t[e],a,0,n,o)},n}function r(t,e,a,n,i,o,s){function r(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=s;return s&&e!==s[0]&&(r=[e].concat(s)),a(t,e,t.helpers,t.partials,i.data||n,o&&[i.blockParams].concat(o),r)}return r=d(a,r,t,s,n,o),r.program=e,r.depth=s?s.length:0,r.blockParams=i||0,r}function l(t,e,a){return t?t.call||a.name||(a.name=t,t=a.partials[t]):t="@partial-block"===a.name?a.data["partial-block"]:a.partials[a.name],t}function c(t,e,a){a.partial=!0,a.ids&&(a.data.contextPath=a.ids[0]||a.data.contextPath);var n=void 0;if(a.fn&&a.fn!==u&&(a.data=_.createFrame(a.data),n=a.data["partial-block"]=a.fn,n.partials&&(a.partials=f.extend({},a.partials,n.partials))),void 0===t&&n&&(t=n),void 0===t)throw new g["default"]("The partial "+a.name+" could not be found");if(t instanceof Function)return t(e,a)}function u(){return""}function h(t,e){return e&&"root"in e||(e=e?_.createFrame(e):{},e.root=t),e}function d(t,e,a,n,i,o){if(t.decorator){var s={};e=t.decorator(e,s,a,n&&n[0],i,o,n),f.extend(e,s)}return e}e.__esModule=!0,e.checkRevision=o,e.template=s,e.wrapProgram=r,e.resolvePartial=l,e.invokePartial=c,e.noop=u;var p=a(6),f=i(p),b=a(7),g=n(b),_=a(5)},function(t,e){(function(a){"use strict";e.__esModule=!0,e["default"]=function(t){var e="undefined"!=typeof a?a:window,n=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=n),t}},t.exports=e["default"]}).call(e,function(){return this}())},function(e,a){e.exports=t},function(t,a){t.exports=e},function(t,e){t.exports=a},function(t,e,a){var n;n=function(){"use strict";return{status:"loading",tab:"table",size:"full",face:"front",faces:["front","back"],pluginRegistry:{blank:{path:"blank"},table:{path:"table"},map:{path:"map"},chart:{path:"chart"},metadata:{path:"metadata"},filter:{path:"filter"},download:{path:"download"}},tabs:{table:{options:{}},metadata:{options:{}},filter:{options:{}},map:{options:{}},chart:{options:{type:"line"}},download:{options:{}}},flippedClassName:"flipped",state:{},lang:"EN",langFallbackOrder:["EN","FR","ES","AR","PR"],toolbarPosition:"up",loadResourceServiceQueryParams:{dsd:!0},syncTabsOnToolbarChange:!1,renderVisualizationComponents:!0,maxDataSize:7200,minDataSize:0,cache:!1}}.call(e,a,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,a){var n;n=function(){"use strict";var t="";return{MISSING_CONTAINER:t+"missing_container",LOAD_RESOURCE:t+"load_resource",LOAD_METADATA:t+"load_metadata",MISSING_TAB:t+"missing_tab",FETCH_RESOURCE:t+"fetch_resource",MISSING_DATASOURCES:t+"missing_datasources",UNKNOWN_RESOURCE_TYPE:t+"unknown_resource_type",MISSING_GEO_COLUMN:t+"missing_geo_column",NO_NUMBER_DATATYPE:t+"no_number_datatype",VALUE_IN_GROUP_BY:t+"value_in_group_by",MISSING_GROUP_BY:t+"missing_group_by",MISSING_VALUE_IN_AGGREGATION_RULES:t+"missing_value_in_aggregation_rules",GROUP_BY_CONTAINS_NO_KEY:t+"group_by_contains_no_key",EXCLUDE_KEY_DIMENSION:t+"exclude_key_dimension",INCOMPATIBLE_RESOURCE_TYPE:t+"incompatible_resource_type",RESOURCE_STATUS:t+"resource_status"}}.call(e,a,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,a){var n;n=function(){"use strict";var t="fx.visualization.";return{remove:t+"remove",resize:t+"resize",clone:t+"clone",flip:t+"flip",metadata:t+"metadata",tab:t+"tab",query:t+"query",toolbar:t+"toolbar",model_done:"model.done",model_error:"model.error"}}.call(e,a,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,a){var n,i;n=[a(29),a(22),a(23),a(25),a(26),a(27),a(30),a(31)],i=function(t,e,a,n,i,o,s,r){"use strict";function l(){return this.fenixTool=new s,this}return l.prototype._getToolbarConfig=function(t,e){return this.fenixTool.toFilter(t,e)},l.prototype.getTableToolbarConfig=function(t,e){return this._getToolbarConfig(t,e)},l.prototype.getChartToolbarConfig=function(t){return this._getToolbarConfig(t,{rowLabel:r.series,columnsLabel:r.xAxis,valuesLabel:r.yAxis})},l.prototype.getMapToolbarConfig=function(t,e){return{}},l.prototype.getChartCreatorConfiguration=function(t){return this.fenixTool.toChartConfig(t)},l.prototype.getTableCreatorConfiguration=function(t){return this.fenixTool.toTableConfig(t)},l.prototype.getMapCreatorConfiguration=function(t){return this.fenixTool.toTableConfig(t)},l.prototype.assign=function(t,e,a){if("string"==typeof e&&(e=e.split(".")),e.length>1){var n=e.shift();this.assign(t[n]="[object Object]"===Object.prototype.toString.call(t[n])?t[n]:{},e,a)}else t[e[0]]=a},l.prototype.getNestedProperty=function(e,a){for(var a=t.extend(!0,{},a),n=e.split(".");n.length&&(a=a[n.shift()]););return a},l.prototype.cleanArray=function(t){for(var e=[],a=0;a<t.length;a++)t[a]&&e.push(t[a]);return e},new l}.apply(e,n),!(void 0!==i&&(t.exports=i))},function(t,e){t.exports=n},function(t,e){t.exports=i},function(t,e,a){var n,i;n=[a(32)],i=function(t){"use strict";return{en:t}}.apply(e,n),!(void 0!==i&&(t.exports=i))},function(t,e,a){var n;n=function(){"use strict";return{confirm_remove:"Remove resource?",submit_button:"Submit",reset_button:"Reset",add_button:"Add",remove_button:"Remove",cancel_button:"Cancel",back_current_resource:"Resources",no_number_datatype:"Impossible to aggregate for [{{ dimensions }}] because the data type is not number",value_in_group_by:"'Value' dimension can not be in group by",missing_group_by:"Specify at least one 'group by'",missing_value_in_aggregation_rules:"'Value' should be in Sum, Average, First or Last",group_by_contains_no_key:"'Group by' can contains only key dimensions",exclude_key_dimension:"The dimensions [{{ dimensions }}] can not be excluded because keys.",aggregations_dimensions:"Dimensions",aggregations_group:"Group by",aggregations_sum:"Sum",aggregations_avg:"Average",aggregations_first:"First",aggregations_last:"Last",map_select_overlay:"Select Overlayer",step_metadata:"Metadata",step_filter:"Filter",step_aggregations:"Aggregations",step_map:"Earthstat Layer Collection",series:"Series",xAxis:"X Axis",yAxis:"Y Axis",tooltip_right_menu:"Settings",tooltip_remove_button:"Close resource",tooltip_resize_button:"Resize resource",tooltip_clone_button:"Clone resource",tooltip_flip_button:"Resource filtering",tooltip_metadata_button:"Visualize metadata",tooltip_minimize_button:"Minimize resource",tooltip_download_button:"Download resource",tooltip_toolbar_button:"Visualization options",error_content_title:"An error occurred",error_content_text:"You can remove the AVB, please use the button below",empty_content_title:"The result is empty",empty_content_text:"You can remove the AVB or redo the filtering, please use the button below",huge_content_title:"The result is too big for the visualization",huge_content_text:"You can redo the filtering, please use the button below"}}.call(e,a,e,t),!(void 0!==n&&(t.exports=n))},function(t,e){t.exports=o},function(t,e){t.exports=s},function(t,e,a){var n=a(3);t.exports=(n["default"]||n).template({1:function(t,e,a,n,i){var o,s=null!=e?e:{};return'\n                            <div data-role="front-toolbar" class="vb-toolbar front-toolbar clearfix">\n\n'+(null!=(o=a.unless.call(s,null!=e?e.hideMenu:e,{name:"unless",hash:{},fn:t.program(2,i,0),inverse:t.noop,data:i}))?o:"")+'\n                                <h6 data-role="box-title" class="box-title truncate"\n                                    data-grid="fx-grid-item-handle"></h6>\n\n                                <div class="btn-group toolbar-cmd-right">\n'+(null!=(o=a.unless.call(s,null!=e?e.hideFlipButton:e,{name:"unless",hash:{},fn:t.program(5,i,0),inverse:t.noop,data:i}))?o:"")+(null!=(o=a.unless.call(s,null!=e?e.hideDownloadButton:e,{name:"unless",hash:{},fn:t.program(7,i,0),inverse:t.noop,data:i}))?o:"")+(null!=(o=a.unless.call(s,null!=e?e.hideCloneButton:e,{name:"unless",hash:{},fn:t.program(9,i,0),inverse:t.noop,data:i}))?o:"")+(null!=(o=a.unless.call(s,null!=e?e.hideMinimizeButton:e,{name:"unless",hash:{},fn:t.program(11,i,0),inverse:t.noop,data:i}))?o:"")+(null!=(o=a.unless.call(s,null!=e?e.hideRemoveButton:e,{name:"unless",hash:{},fn:t.program(13,i,0),inverse:t.noop,data:i}))?o:"")+"\n                                </div>\n                            </div>\n\n"},2:function(t,e,a,n,i){var o,s,r=null!=e?e:{};return'\n                                    <div class="toolbar-cmd-left">\n                                        <div data-role="right-menu" class="dropdown pull-left"\n                                             title="'+t.escapeExpression((s=null!=(s=a.tooltip_right_menu||(null!=e?e.tooltip_right_menu:e))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"tooltip_right_menu",hash:{},data:i}):s))+'">\n\n                                            <button class="btn btn-default" type="button" data-toggle="dropdown">\n                                                <span class="icojam_preview_list"></span>\n                                            </button>\n                                        </div>\n\n'+(null!=(o=a.unless.call(r,null!=e?e.hideMetadataButton:e,{name:"unless",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i}))?o:"")+"                                    </div>\n\n"},3:function(t,e,a,n,i){var o;return'                                            <button data-action="metadata" class="btn btn-default meta-btn pull-left"\n                                                    type="button" title="'+t.escapeExpression((o=null!=(o=a.tooltip_metadata_button||(null!=e?e.tooltip_metadata_button:e))?o:a.helperMissing,"function"==typeof o?o.call(null!=e?e:{},{name:"tooltip_metadata_button",hash:{},data:i}):o))+'">META\n                                            </button>\n'},5:function(t,e,a,n,i){var o;return'                                        <button data-action="flip" class="btn btn-default" type="button"\n                                                title="'+t.escapeExpression((o=null!=(o=a.tooltip_flip_button||(null!=e?e.tooltip_flip_button:e))?o:a.helperMissing,"function"==typeof o?o.call(null!=e?e:{},{name:"tooltip_flip_button",hash:{},data:i}):o))+'">\n                                            <span class="icojam_options_1"></span>\n                                        </button>\n'},7:function(t,e,a,n,i){var o;return'                                        <button data-action="download" data-target="data" class="btn btn-default"\n                                                title="'+t.escapeExpression((o=null!=(o=a.tooltip_download_button||(null!=e?e.tooltip_download_button:e))?o:a.helperMissing,"function"==typeof o?o.call(null!=e?e:{},{name:"tooltip_download_button",hash:{},data:i}):o))+'"\n                                                type="button">\n                                            <span class="icojam_download_1"></span>\n                                        </button>\n'},9:function(t,e,a,n,i){var o;return'                                        <button data-action="clone" class="btn btn-default" type="button"\n                                                title="'+t.escapeExpression((o=null!=(o=a.tooltip_clone_button||(null!=e?e.tooltip_clone_button:e))?o:a.helperMissing,"function"==typeof o?o.call(null!=e?e:{},{name:"tooltip_clone_button",hash:{},data:i}):o))+'">\n                                            <span class="icojam_wedding_jewel"></span>\n                                        </button>\n'},11:function(t,e,a,n,i){var o;return'                                        <button data-action="minimize" class="btn btn-default" type="button"\n                                                title="'+t.escapeExpression((o=null!=(o=a.tooltip_minimize_button||(null!=e?e.tooltip_minimize_button:e))?o:a.helperMissing,"function"==typeof o?o.call(null!=e?e:{},{name:"tooltip_minimize_button",hash:{},data:i}):o))+'">\n                                            <span class="icojam_view_roll-up_1"></span>\n                                        </button>\n'},13:function(t,e,a,n,i){var o;return'                                        <button data-action="remove" class="btn btn-default" type="button"\n                                                title="'+t.escapeExpression((o=null!=(o=a.tooltip_remove_button||(null!=e?e.tooltip_remove_button:e))?o:a.helperMissing,
"function"==typeof o?o.call(null!=e?e:{},{name:"tooltip_remove_button",hash:{},data:i}):o))+'">\n                                            <span class="icojam_button_delete_1"></span>\n                                        </button>\n'},15:function(t,e,a,n,i){var o,s=null!=e?e:{};return'\n                            <div data-role="back-toolbar" class="vb-toolbar back-toolbar clearfix">\n\n'+(null!=(o=a.unless.call(s,null!=e?e.hideMenu:e,{name:"unless",hash:{},fn:t.program(16,i,0),inverse:t.noop,data:i}))?o:"")+'\n                                <h6 data-role="box-title" class="box-title truncate"></h6>\n\n                                <div class="btn-group toolbar-cmd-right">\n'+(null!=(o=a.unless.call(s,null!=e?e.hideFlipButton:e,{name:"unless",hash:{},fn:t.program(19,i,0),inverse:t.noop,data:i}))?o:"")+(null!=(o=a.unless.call(s,null!=e?e.hideDownloadButton:e,{name:"unless",hash:{},fn:t.program(21,i,0),inverse:t.noop,data:i}))?o:"")+(null!=(o=a.unless.call(s,null!=e?e.hideCloneButton:e,{name:"unless",hash:{},fn:t.program(23,i,0),inverse:t.noop,data:i}))?o:"")+(null!=(o=a.unless.call(s,null!=e?e.hideMinimizeButton:e,{name:"unless",hash:{},fn:t.program(25,i,0),inverse:t.noop,data:i}))?o:"")+(null!=(o=a.unless.call(s,null!=e?e.hideRemoveButton:e,{name:"unless",hash:{},fn:t.program(27,i,0),inverse:t.noop,data:i}))?o:"")+"\n                                </div>\n                            </div>\n\n"},16:function(t,e,a,n,i){var o;return'\n                                    <div class="toolbar-cmd-left">\n                                        <div data-role="right-menu" class="dropdown pull-left">\n\n                                            <button class="btn btn-default" type="button" data-toggle="dropdown">\n                                                <span class="icojam_preview_list"></span>\n                                            </button>\n                                        </div>\n'+(null!=(o=a.unless.call(null!=e?e:{},null!=e?e.hideMetadataButton:e,{name:"unless",hash:{},fn:t.program(17,i,0),inverse:t.noop,data:i}))?o:"")+"                                    </div>\n\n"},17:function(t,e,a,n,i){return'                                            <button data-action="metadata" class="btn btn-default meta-btn pull-left"\n                                                    type="button">META\n                                            </button>\n'},19:function(t,e,a,n,i){return'                                        <button data-action="flip" class="btn btn-default" type="button">\n                                            <span class="icojam_options_1"></span>\n                                        </button>\n'},21:function(t,e,a,n,i){return'                                        <button data-action="download" data-target="data" class="btn btn-default"\n                                                type="button">\n                                            <span class="icojam_download_1"></span>\n                                        </button>\n'},23:function(t,e,a,n,i){return'                                        <button data-action="clone" class="btn btn-default" type="button">\n                                            <span class="icojam_wedding_jewel"></span>\n                                        </button>\n'},25:function(t,e,a,n,i){return'                                        <button data-action="minimize" class="btn btn-default" type="button">\n                                            <span class="icojam_view_roll-up_1"></span>\n                                        </button>\n'},27:function(t,e,a,n,i){return'                                        <button data-action="remove" class="btn btn-default" type="button">\n                                            <span class="icojam_button_delete_1"></span>\n                                        </button>\n'},29:function(t,e,a,n,i){return'                    <button data-action="remove" class="btn btn-floating btn-fx-status-btn" type="button">\n                        <span class="icojam_minus"></span>\n                    </button>\n'},31:function(t,e,a,n,i){return'\n                    <button data-action="remove" class="btn btn-floating btn-fx-status-btn" type="button">\n                        <span class="icojam_minus"></span>\n                    </button>\n\n'},compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var o,s,r=null!=e?e:{},l=a.helperMissing,c="function",u=t.escapeExpression;return'    <div data-role="box" class="fx-box" data-status="'+u((s=null!=(s=a.status||(null!=e?e.status:e))?s:l,typeof s===c?s.call(r,{name:"status",hash:{},data:i}):s))+'" data-size="'+u((s=null!=(s=a.size||(null!=e?e.size:e))?s:l,typeof s===c?s.call(r,{name:"size",hash:{},data:i}):s))+'">\n\n        <div data-content="ready" data-tab="'+u((s=null!=(s=a.default_tab||(null!=e?e.default_tab:e))?s:l,typeof s===c?s.call(r,{name:"default_tab",hash:{},data:i}):s))+'">\n\n            <div data-role="flip-container" class="flip-container">\n\n                <div class="flipper">\n\n                    <!-- Front -->\n                    <div class="front" data-face="front">\n                        <!-- front content -->\n\n'+(null!=(o=a.unless.call(r,null!=e?e.hideToolbar:e,{name:"unless",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?o:"")+'\n                        <div data-role="front-content" class="front-content">\n\n                            <div data-section="chart"></div>\n                            <div data-section="map"></div>\n                            <div data-section="table"></div>\n                            <div data-section="blank"></div>\n                            <div data-section="metadata"></div>\n                            <div data-section="filter"></div>\n                            <div data-section="download"></div>\n\n                        </div>\n\n                    </div>\n\n                    <!-- back -->\n                    <div class="back" data-face="back">\n\n'+(null!=(o=a.unless.call(r,null!=e?e.hideToolbar:e,{name:"unless",hash:{},fn:t.program(15,i,0),inverse:t.noop,data:i}))?o:"")+'\n                        <div data-role="back-content" class="container-fluid back-content">\n                            <div class="alert alert-danger" role="alert" data-role="filter-error">...</div>\n                            <div class="row back-row">\n                                <div data-role=\'back-sidebar\' class="col-xs-12 col-sm-8 col-md-4 hidden-xs hidden-sm">\n                                    <div class="sidebar-content">\n                                        <h6 class="sidebar-title">'+u((s=null!=(s=a.back_current_resource||(null!=e?e.back_current_resource:e))?s:l,typeof s===c?s.call(r,{name:"back_current_resource",hash:{},data:i}):s))+'</h6>\n                                        <div class="process-steps-container">\n                                            <ul data-role=\'process-steps\' class="list-unstyled list-group"></ul>\n                                        </div>\n\n                                    </div>\n                                </div>\n\n                                <button data-action="show-back-sidebar"\n                                        class="btn btn-floating btn-fx-toolbar visible-sm visible-xs show-back-sidebar"\n                                        type="button"><span class="icojam_grid_32"></span></button>\n\n                                <div class="col-md-8 col-xs-12 back-right-content">\n\n                                    <ul data-role="process-details"\n                                        class="list-unstyled list-group process-details"></ul>\n\n                                    <div class="row">\n                                        <div class="col-xs-12">\n                                            <div class="btn-group pull-right back-btns">\n\n                                                <button type="button" data-action="flip"\n                                                        class="btn btn-default">'+u((s=null!=(s=a.cancel_button||(null!=e?e.cancel_button:e))?s:l,typeof s===c?s.call(r,{name:"cancel_button",hash:{},data:i}):s))+'\n                                                </button>\n                                                <button type="button" data-action="query" class="btn btn-primary"\n                                                        disabled>'+u((s=null!=(s=a.submit_button||(null!=e?e.submit_button:e))?s:l,typeof s===c?s.call(r,{name:"submit_button",hash:{},data:i}):s))+'</button>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                </div>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n\n        </div>\n\n        <div data-content="error" class="text-center">\n\n            <div class="content-message text-center">\n                <div class="content-message-img error-img"></div>\n\n                <h2>'+u((s=null!=(s=a.error_content_title||(null!=e?e.error_content_title:e))?s:l,typeof s===c?s.call(r,{name:"error_content_title",hash:{},data:i}):s))+"</h2>\n                <p>"+u((s=null!=(s=a.error_content_text||(null!=e?e.error_content_text:e))?s:l,typeof s===c?s.call(r,{name:"error_content_text",hash:{},data:i}):s))+"</p>\n\n"+(null!=(o=a.unless.call(r,null!=e?e.hideRemoveButton:e,{name:"unless",hash:{},fn:t.program(29,i,0),inverse:t.noop,data:i}))?o:"")+'\n            </div>\n\n        </div>\n\n        <div data-content="loading" class="text-center">\n            <span class="loading loading-48"></span>\n        </div>\n\n        <div data-content="empty" class="text-center">\n\n            <div class="content-message text-center">\n                <div class="content-message-img empty-img"></div>\n                <h2>'+u((s=null!=(s=a.empty_content_title||(null!=e?e.empty_content_title:e))?s:l,typeof s===c?s.call(r,{name:"empty_content_title",hash:{},data:i}):s))+"</h2>\n                <p>"+u((s=null!=(s=a.empty_content_text||(null!=e?e.empty_content_text:e))?s:l,typeof s===c?s.call(r,{name:"empty_content_text",hash:{},data:i}):s))+'</p>\n\n                <button data-action="filter" class="btn btn-floating btn-fx-status-btn" type="button">\n                    <span class="icojam_filter"></span>\n                </button>\n'+(null!=(o=a.unless.call(r,null!=e?e.hideRemoveButton:e,{name:"unless",hash:{},fn:t.program(31,i,0),inverse:t.noop,data:i}))?o:"")+'\n            </div>\n\n        </div>\n\n        <div data-content="huge" class="text-center">\n\n            <div class="content-message text-center">\n                <div class="content-message-img huge-img"></div>\n                <h2>'+u((s=null!=(s=a.huge_content_title||(null!=e?e.huge_content_title:e))?s:l,typeof s===c?s.call(r,{name:"huge_content_title",hash:{},data:i}):s))+"</h2>\n                <p>"+u((s=null!=(s=a.huge_content_text||(null!=e?e.huge_content_text:e))?s:l,typeof s===c?s.call(r,{name:"huge_content_text",hash:{},data:i}):s))+'</p>\n\n                <button data-action="filter" class="btn btn-floating btn-fx-status-btn" type="button">\n                    <span class="icojam_filter"></span>\n                </button>\n\n            </div>\n\n        </div>\n\n    </div>'},useData:!0})},function(t,e,a){var n=a(3);t.exports=(n["default"]||n).template({1:function(t,e,a,n,i){return'                <div class="swiper-slide filter-slide ">\n                    <div data-selector="'+t.escapeExpression(t.lambda(null!=e?e.id:e,e))+'"></div>\n                </div>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var o;return'<div data-role="filter-filter-template">\n\n    <!-- Slider main container -->\n    <div data-role=\'filter-rows-swiper\' class="swiper-container">\n        <!-- Additional required wrapper -->\n        <div class="swiper-wrapper">\n\n'+(null!=(o=a.each.call(null!=e?e:{},null!=e?e.columns:e,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?o:"")+'\n        </div>\n        <!-- If we need pagination -->\n        <div class="swiper-pagination"></div>\n\n        <!-- If we need navigation buttons -->\n        <div class="swiper-button-prev"></div>\n        <div class="swiper-button-next"></div>\n\n    </div>\n\n</div>'},useData:!0})},function(t,e,a){var n=a(3);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){return'<div data-role="filter-map-template"></div>'},useData:!0})},function(t,e,a){var n=a(3);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){return'<div data-role="filter-aggregation-template">\n\n    <div data-selector="aggregations"></div>\n\n</div>'},useData:!0})},function(t,e,a){var n=a(3);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var o,s,r=t.escapeExpression;return'<li data-role="step-filter" class="step-container" data-tab="'+r((s=null!=(s=a.id||(null!=e?e.id:e))?s:a.helperMissing,"function"==typeof s?s.call(null!=e?e:{},{name:"id",hash:{},data:i}):s))+'">\n    <span class="step-icon icojam_filter"></span>\n    <h6 class="truncate step-title">'+r(t.lambda(null!=(o=null!=e?e.labels:e)?o.title:o,e))+"</h6>\n</li>"},useData:!0})},function(t,e,a){var n=a(3);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var o,s,r=t.escapeExpression,l=t.lambda;return'<li data-role="step-metadata" class="step-container" data-tab="'+r((s=null!=(s=a.id||(null!=e?e.id:e))?s:a.helperMissing,"function"==typeof s?s.call(null!=e?e:{},{name:"id",hash:{},data:i}):s))+'"\n    data-resourceRepresentationType="'+r(l(null!=(o=null!=(o=null!=e?e.metadata:e)?o.meContent:o)?o.resourceRepresentationType:o,e))+'">\n    <span class="step-icon icojam_box"></span>\n    <h6 class="truncate step-title">'+r(l(null!=(o=null!=e?e.labels:e)?o.title:o,e))+"</h6>\n</li>"},useData:!0})},function(t,e){t.exports=r},function(t,e,a){var n;n=function(){"use strict";return[{label:"Download",url:"",parent_id:"root",id:"download",a_attrs:{"data-id":"download","class":"hidden"}},{label:"Resource",url:"",parent_id:"download",id:"download-data",a_attrs:{"data-action":"download","data-id":"download","data-target":"data"}},{label:"Metadata",url:"",parent_id:"download",id:"download-metadata",a_attrs:{"data-action":"download","data-id":"download","data-target":"metadata"}},{label:"Visualize as",url:"",parent_id:"root",id:"visualize_as"},{label:"Chart",url:"",parent_id:"visualize_as",id:"visualize_as_chart",a_attrs:{"data-action":"tab","data-tab":"chart","data-id":"chart","class":"hidden"}},{label:"Line",url:"",parent_id:"visualize_as_chart",id:"chart_line",a_attrs:{"data-action":"tab","data-tab":"chart","data-id":"chart","data-type":"line"}},{label:"Column",url:"",parent_id:"visualize_as_chart",id:"chart_column",a_attrs:{"data-action":"tab","data-tab":"chart","data-id":"chart","data-type":"column"}},{label:"Column stacked",url:"",parent_id:"visualize_as_chart",id:"chart_column_stacked",a_attrs:{"data-action":"tab","data-tab":"chart","data-id":"chart","data-type":"column_stacked"}},{label:"Area",url:"",parent_id:"visualize_as_chart",id:"chart_area",a_attrs:{"data-action":"tab","data-tab":"chart","data-id":"chart","data-type":"area"}},{label:"Pie",url:"",parent_id:"visualize_as_chart",id:"chart_pied",a_attrs:{"data-action":"tab","data-tab":"chart","data-id":"chart","data-type":"pie"}},{label:"Map",url:"",parent_id:"visualize_as",id:"visualize_as_map",a_attrs:{"data-action":"tab","data-tab":"map","data-id":"map","class":"hidden"}},{label:"Table",url:"",parent_id:"visualize_as",id:"visualize_as_table",a_attrs:{"data-action":"tab","data-tab":"table","data-id":"table","class":"hidden"}},{label:"Set size",url:"",parent_id:"root",id:"size"},{label:"Full",url:"",parent_id:"size",id:"full",a_attrs:{"data-action":"resize","data-size":"full"}},{label:"Half",url:"",parent_id:"size",id:"half",a_attrs:{"data-action":"resize","data-size":"half"}}]}.call(e,a,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,a){var n;n=function(){return[{Name:"berrynes_area_3857",Title:"berrynes_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","berrynes_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=berrynes_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"blueberry_area_3857",Title:"blueberry_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","blueberry_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=blueberry_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"brazil_area_3857",Title:"brazil_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","brazil_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=brazil_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"broadbean_area_3857",Title:"broadbean_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","broadbean_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=broadbean_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"buckwheat_area_3857",Title:"buckwheat_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","buckwheat_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=buckwheat_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"cabbagefor_area_3857",Title:"cabbagefor_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","cabbagefor_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=cabbagefor_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"canaryseed_area_3857",Title:"canaryseed_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","canaryseed_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=canaryseed_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"carob_area_3857",Title:"carob_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","carob_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=carob_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"carrotarea_3857",Title:"carrotarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","carrotarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=carrotarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"carrotforarea_3857",Title:"carrotforarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","carrotforarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=carrotforarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"cashewapplearea_3857",Title:"cashewapplearea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","cashewapplearea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=cashewapplearea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"cashewarea_3857",Title:"cashewarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","cashewarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=cashewarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"cassavaarea_3857",Title:"cassavaarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","cassavaarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=cassavaarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"castorarea_3857",Title:"castorarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","castorarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=castorarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"cauliflowerarea_3857",Title:"cauliflowerarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","cauliflowerarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=cauliflowerarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"cerealnesarea_3857",Title:"cerealnesarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","cerealnesarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=cerealnesarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"cherryarea_3857",Title:"cherryarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","cherryarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=cherryarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"chestnutarea_3857",Title:"chestnutarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","chestnutarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=chestnutarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"chickpeaarea_3857",Title:"chickpeaarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","chickpeaarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=chickpeaarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"chicoryarea_3857",Title:"chicoryarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","chicoryarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=chicoryarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"chilietcarea_3857",Title:"chilietcarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","chilietcarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=chilietcarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"cinnamonarea_3857",Title:"cinnamonarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","cinnamonarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=cinnamonarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"citrusnesarea_3857",Title:"citrusnesarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","citrusnesarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=citrusnesarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"clovearea_3857",Title:"clovearea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","clovearea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],
BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=clovearea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"cloverarea_3857",Title:"cloverarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","cloverarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=cloverarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"cocoaarea_3857",Title:"cocoaarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","cocoaarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=cocoaarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"coconutarea_3857",Title:"coconutarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","coconutarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=coconutarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"coffeearea_3857",Title:"coffeearea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","coffeearea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=coffeearea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"coirarea_3857",Title:"coirarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","coirarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-179.99999237060547,-85.87863889373075,179.98662764288167,85.81776046752934],BoundingBox:[{crs:"EPSG:3857",extent:[-20037507.49348893,-21205770.720520623,20036019.738804124,21112163.63770032],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=coirarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"cottonarea_3857",Title:"cottonarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","cottonarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=cottonarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"cowpeaarea_3857",Title:"cowpeaarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","cowpeaarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=cowpeaarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"abacaarea_3857",Title:"abacaarea_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","abacaarea_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=abacaarea_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"agave_area_3857",Title:"agave_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","agave_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=agave_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"alfalfa_area_3857",Title:"alfalfa_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","alfalfa_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=alfalfa_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"almond_area_3857",Title:"almond_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","almond_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=almond_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"aniseetc_area_3857",Title:"aniseetc_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","aniseetc_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=aniseetc_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"apple_area_3857",Title:"apple_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","apple_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=apple_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"apricot_area_3857",Title:"apricot_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","apricot_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=apricot_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"areca_area_3857",Title:"areca_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","areca_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=areca_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"artichoke_area_3857",Title:"artichoke_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","artichoke_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=artichoke_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"asparagus_area_3857",Title:"asparagus_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","asparagus_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=asparagus_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"avocado_area_3857",Title:"avocado_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","avocado_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=avocado_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"bambara_area_3857",Title:"bambara_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","bambara_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=bambara_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1},{Name:"banana_area_3857",Title:"banana_area_3857",Abstract:"",KeywordList:["WCS","GeoTIFF","banana_area_3857"],SRS:["EPSG:3857"],LatLonBoundingBox:[-180.00000000000003,-85.81552819353568,179.95503414565607,85.81395348836212],BoundingBox:[{crs:"EPSG:3857",extent:[-20037508.342789248,-21108757.183934048,20032502.766780593,21106355.272253364],res:[null,null]}],Style:[{Name:"earthstat_crop_area_EN",Title:"Rain distribution",Abstract:"",LegendURL:[{Format:"image/png",OnlineResource:"http://fenix.fao.org:20200/geoserver/earthstat/wms?request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=banana_area_3857",size:[20,20]}]}],queryable:!0,opaque:!1,noSubsets:!1}]}.call(e,a,e,t),!(void 0!==n&&(t.exports=n))},function(t,e){t.exports=l},function(t,e){t.exports=c},function(t,e){t.exports=u},function(t,e){t.exports=h},function(t,e,a){a(49),a(50),a(51),a(52),a(53),a(54),a(55),a(56),a(57),a(58),a(59),a(60)},function(t,e,a){var n=a(29);+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var a in e)if(void 0!==t.style[a])return{end:e[a]};return!1}t.fn.emulateTransitionEnd=function(e){var a=!1,n=this;t(this).one("bsTransitionEnd",function(){a=!0});var i=function(){a||t(n).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(n)},function(t,e,a){var n=a(29);+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.alert");i||a.data("bs.alert",i=new n(this)),"string"==typeof e&&i[e].call(a)})}var a='[data-dismiss="alert"]',n=function(e){t(e).on("click",a,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function a(){s.detach().trigger("closed.bs.alert").remove()}var i=t(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var s=t("#"===o?[]:o);e&&e.preventDefault(),s.length||(s=i.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",a).emulateTransitionEnd(n.TRANSITION_DURATION):a())};var i=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",a,n.prototype.close)}(n)},function(t,e,a){var n=a(29);+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.button"),o="object"==typeof e&&e;i||n.data("bs.button",i=new a(this,o)),"toggle"==e?i.toggle():e&&i.setState(e)})}var a=function(e,n){this.$element=t(e),this.options=t.extend({},a.DEFAULTS,n),this.isLoading=!1};a.VERSION="3.3.7",a.DEFAULTS={loadingText:"loading..."},a.prototype.setState=function(e){var a="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();e+="Text",null==o.resetText&&n.data("resetText",n[i]()),setTimeout(t.proxy(function(){n[i](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(a).attr(a,a).prop(a,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(a).removeAttr(a).prop(a,!1))},this),0)},a.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var a=this.$element.find("input");"radio"==a.prop("type")?(a.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==a.prop("type")&&(a.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),a.prop("checked",this.$element.hasClass("active")),t&&a.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=a,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(a){var n=t(a.target).closest(".btn");e.call(n,"toggle"),t(a.target).is('input[type="radio"], input[type="checkbox"]')||(a.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(n)},function(t,e,a){var n=a(29);+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.carousel"),o=t.extend({},a.DEFAULTS,n.data(),"object"==typeof e&&e),s="string"==typeof e?e:o.slide;i||n.data("bs.carousel",i=new a(this,o)),"number"==typeof e?i.to(e):s?i[s]():o.interval&&i.pause().cycle()})}var a=function(e,a){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=a,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};a.VERSION="3.3.7",a.TRANSITION_DURATION=600,a.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},a.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},a.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},a.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},a.prototype.getItemForDirection=function(t,e){var a=this.getItemIndex(e),n="prev"==t&&0===a||"next"==t&&a==this.$items.length-1;if(n&&!this.options.wrap)return e;var i="prev"==t?-1:1,o=(a+i)%this.$items.length;return this.$items.eq(o)},a.prototype.to=function(t){var e=this,a=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):a==t?this.pause().cycle():this.slide(t>a?"next":"prev",this.$items.eq(t))},a.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},a.prototype.next=function(){if(!this.sliding)return this.slide("next")},a.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},a.prototype.slide=function(e,n){var i=this.$element.find(".item.active"),o=n||this.getItemForDirection(e,i),s=this.interval,r="next"==e?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:r});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(o)]);h&&h.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:c,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,i.addClass(r),o.addClass(r),i.one("bsTransitionEnd",function(){o.removeClass([e,r].join(" ")).addClass("active"),i.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(a.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=a,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var i=function(a){var n,i=t(this),o=t(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=t.extend({},o.data(),i.data()),r=i.attr("data-slide-to");r&&(s.interval=!1),e.call(o,s),r&&o.data("bs.carousel").to(r),a.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var a=t(this);e.call(a,a.data())})})}(n)},function(t,e,a){var n=a(29);+function(t){"use strict";function e(e){var a,n=e.attr("data-target")||(a=e.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function a(e){return this.each(function(){var a=t(this),i=a.data("bs.collapse"),o=t.extend({},n.DEFAULTS,a.data(),"object"==typeof e&&e);!i&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),i||a.data("bs.collapse",i=new n(this,o)),"string"==typeof e&&i[e]()})}var n=function(e,a){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,a),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.7",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(e=i.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(a.call(i,"hide"),e||i.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[s](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var a=this.dimension();this.$element[a](this.$element[a]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[a](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(n.TRANSITION_DURATION):i.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(a,n){var i=t(n);this.addAriaAndCollapsedClass(e(i),i)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var a=t.hasClass("in");t.attr("aria-expanded",a),e.toggleClass("collapsed",!a).attr("aria-expanded",a)};var i=t.fn.collapse;t.fn.collapse=a,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var i=t(this);i.attr("data-target")||n.preventDefault();var o=e(i),s=o.data("bs.collapse"),r=s?"toggle":i.data();a.call(o,r)})}(n)},function(t,e,a){var n=a(29);+function(t){"use strict";function e(e){var a=e.attr("data-target");a||(a=e.attr("href"),a=a&&/#[A-Za-z]/.test(a)&&a.replace(/.*(?=#[^\s]*$)/,""));var n=a&&t(a);return n&&n.length?n:e.parent()}function a(a){a&&3===a.which||(t(i).remove(),t(o).each(function(){var n=t(this),i=e(n),o={relatedTarget:this};i.hasClass("open")&&(a&&"click"==a.type&&/input|textarea/i.test(a.target.tagName)&&t.contains(i[0],a.target)||(i.trigger(a=t.Event("hide.bs.dropdown",o)),a.isDefaultPrevented()||(n.attr("aria-expanded","false"),i.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))}))}function n(e){return this.each(function(){var a=t(this),n=a.data("bs.dropdown");n||a.data("bs.dropdown",n=new s(this)),"string"==typeof e&&n[e].call(a)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.7",s.prototype.toggle=function(n){var i=t(this);if(!i.is(".disabled, :disabled")){var o=e(i),s=o.hasClass("open");if(a(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",a);var r={relatedTarget:this};if(o.trigger(n=t.Event("show.bs.dropdown",r)),n.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",r))}return!1}},s.prototype.keydown=function(a){if(/(38|40|27|32)/.test(a.which)&&!/input|textarea/i.test(a.target.tagName)){var n=t(this);if(a.preventDefault(),a.stopPropagation(),!n.is(".disabled, :disabled")){var i=e(n),s=i.hasClass("open");if(!s&&27!=a.which||s&&27==a.which)return 27==a.which&&i.find(o).trigger("focus"),n.trigger("click");var r=" li:not(.disabled):visible a",l=i.find(".dropdown-menu"+r);if(l.length){var c=l.index(a.target);38==a.which&&c>0&&c--,40==a.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",a).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(n)},function(t,e,a){var n=a(29);+function(t){"use strict";function e(e,n){return this.each(function(){var i=t(this),o=i.data("bs.modal"),s=t.extend({},a.DEFAULTS,i.data(),"object"==typeof e&&e);o||i.data("bs.modal",o=new a(this,s)),"string"==typeof e?o[e](n):s.show&&o.show(n)})}var a=function(e,a){this.options=a,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};a.VERSION="3.3.7",a.TRANSITION_DURATION=300,a.BACKDROP_TRANSITION_DURATION=150,a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},a.prototype.show=function(e){var n=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),i&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});i?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(a.TRANSITION_DURATION):n.$element.trigger("focus").trigger(o)}))},a.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(a.TRANSITION_DURATION):this.hideModal())},a.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},a.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},a.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(e){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&i;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):s();
}else e&&e()},a.prototype.handleUpdate=function(){this.adjustDialog()},a.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},a.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},a.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},a.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},a.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},a.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=a,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(a){var n=t(this),i=n.attr("href"),o=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),n.data());n.is("a")&&a.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(o,s,this)})}(n)},function(t,e,a){var n=a(29);+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.tooltip"),o="object"==typeof e&&e;!i&&/destroy|hide/.test(e)||(i||n.data("bs.tooltip",i=new a(this,o)),"string"==typeof e&&i[e]())})}var a=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},a.prototype.init=function(e,a,n){if(this.enabled=!0,this.type=e,this.$element=t(a),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var s=i[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var r="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},a.prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},a.prototype.getDelegateOptions=function(){var e={},a=this.getDefaults();return this._options&&t.each(this._options,function(t,n){a[t]!=n&&(e[t]=n)}),e},a.prototype.enter=function(e){var a=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return a||(a=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,a)),e instanceof t.Event&&(a.inState["focusin"==e.type?"focus":"hover"]=!0),a.tip().hasClass("in")||"in"==a.hoverState?void(a.hoverState="in"):(clearTimeout(a.timeout),a.hoverState="in",a.options.delay&&a.options.delay.show?void(a.timeout=setTimeout(function(){"in"==a.hoverState&&a.show()},a.options.delay.show)):a.show())},a.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},a.prototype.leave=function(e){var a=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(a||(a=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,a)),e instanceof t.Event&&(a.inState["focusout"==e.type?"focus":"hover"]=!1),!a.isInStateTrue())return clearTimeout(a.timeout),a.hoverState="out",a.options.delay&&a.options.delay.hide?void(a.timeout=setTimeout(function(){"out"==a.hoverState&&a.hide()},a.options.delay.hide)):a.hide()},a.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var i=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(r);c&&(r=r.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),h=o[0].offsetWidth,d=o[0].offsetHeight;if(c){var p=r,f=this.getPosition(this.$viewport);r="bottom"==r&&u.bottom+d>f.bottom?"top":"top"==r&&u.top-d<f.top?"bottom":"right"==r&&u.right+h>f.width?"left":"left"==r&&u.left-h<f.left?"right":r,o.removeClass(p).addClass(r)}var b=this.getCalculatedOffset(r,u,h,d);this.applyPlacement(b,r);var g=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(a.TRANSITION_DURATION):g()}},a.prototype.applyPlacement=function(e,a){var n=this.tip(),i=n[0].offsetWidth,o=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),r=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(r)&&(r=0),e.top+=s,e.left+=r,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==a&&c!=o&&(e.top=e.top+o-c);var u=this.getViewportAdjustedDelta(a,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var h=/top|bottom/.test(a),d=h?2*u.left-i+l:2*u.top-o+c,p=h?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(d,n[0][p],h)},a.prototype.replaceArrow=function(t,e,a){this.arrow().css(a?"left":"top",50*(1-t/e)+"%").css(a?"top":"left","")},a.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},a.prototype.hide=function(e){function n(){"in"!=i.hoverState&&o.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),e&&e()}var i=this,o=t(this.$tip),s=t.Event("hide.bs."+this.type);if(this.$element.trigger(s),!s.isDefaultPrevented())return o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(a.TRANSITION_DURATION):n(),this.hoverState=null,this},a.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},a.prototype.hasContent=function(){return this.getTitle()},a.prototype.getPosition=function(e){e=e||this.$element;var a=e[0],n="BODY"==a.tagName,i=a.getBoundingClientRect();null==i.width&&(i=t.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&a instanceof window.SVGElement,s=n?{top:0,left:0}:o?null:e.offset(),r={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},i,r,l,s)},a.prototype.getCalculatedOffset=function(t,e,a,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-a/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-a/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-a}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},a.prototype.getViewportAdjustedDelta=function(t,e,a,n){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-o-s.scroll,l=e.top+o-s.scroll+n;r<s.top?i.top=s.top-r:l>s.top+s.height&&(i.top=s.top+s.height-l)}else{var c=e.left-o,u=e.left+o+a;c<s.left?i.left=s.left-c:u>s.right&&(i.left=s.left+s.width-u)}return i},a.prototype.getTitle=function(){var t,e=this.$element,a=this.options;return t=e.attr("data-original-title")||("function"==typeof a.title?a.title.call(e[0]):a.title)},a.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},a.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},a.prototype.enable=function(){this.enabled=!0},a.prototype.disable=function(){this.enabled=!1},a.prototype.toggleEnabled=function(){this.enabled=!this.enabled},a.prototype.toggle=function(e){var a=this;e&&(a=t(e.currentTarget).data("bs."+this.type),a||(a=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,a))),e?(a.inState.click=!a.inState.click,a.isInStateTrue()?a.enter(a):a.leave(a)):a.tip().hasClass("in")?a.leave(a):a.enter(a)},a.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=a,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(n)},function(t,e,a){var n=a(29);+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.popover"),o="object"==typeof e&&e;!i&&/destroy|hide/.test(e)||(i||n.data("bs.popover",i=new a(this,o)),"string"==typeof e&&i[e]())})}var a=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");a.VERSION="3.3.7",a.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),a.prototype.constructor=a,a.prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),a=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof a?"html":"append":"text"](a),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},a.prototype.hasContent=function(){return this.getTitle()||this.getContent()},a.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=a,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(n)},function(t,e,a){var n=a(29);+function(t){"use strict";function e(a,n){this.$body=t(document.body),this.$scrollElement=t(t(a).is(document.body)?window:a),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function a(a){return this.each(function(){var n=t(this),i=n.data("bs.scrollspy"),o="object"==typeof a&&a;i||n.data("bs.scrollspy",i=new e(this,o)),"string"==typeof a&&i[a]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,a="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(a="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),i=e.data("target")||e.attr("href"),o=/^#./.test(i)&&t(i);return o&&o.length&&o.is(":visible")&&[[o[a]().top+n,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,a=this.getScrollHeight(),n=this.options.offset+a-this.$scrollElement.height(),i=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=a&&this.refresh(),e>=n)return s!=(t=o[o.length-1])&&this.activate(t);if(s&&e<i[0])return this.activeTarget=null,this.clear();for(t=i.length;t--;)s!=o[t]&&e>=i[t]&&(void 0===i[t+1]||e<i[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var a=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(a).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=a,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);a.call(e,e.data())})})}(n)},function(t,e,a){var n=a(29);+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.tab");i||n.data("bs.tab",i=new a(this)),"string"==typeof e&&i[e]()})}var a=function(e){this.element=t(e)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var e=this.element,a=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=a.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),e.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var r=t(n);this.activate(e.closest("li"),a),this.activate(r,r.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},a.prototype.activate=function(e,n,i){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var s=n.find("> .active"),r=i&&t.support.transition&&(s.length&&s.hasClass("fade")||!!n.find("> .fade").length);s.length&&r?s.one("bsTransitionEnd",o).emulateTransitionEnd(a.TRANSITION_DURATION):o(),s.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=a,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var i=function(a){a.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(n)},function(t,e,a){var n=a(29);+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.affix"),o="object"==typeof e&&e;i||n.data("bs.affix",i=new a(this,o)),"string"==typeof e&&i[e]()})}var a=function(e,n){this.options=t.extend({},a.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};a.VERSION="3.3.7",a.RESET="affix affix-top affix-bottom",a.DEFAULTS={offset:0,target:window},a.prototype.getState=function(t,e,a,n){var i=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=a&&"top"==this.affixed)return i<a&&"top";if("bottom"==this.affixed)return null!=a?!(i+this.unpin<=o.top)&&"bottom":!(i+s<=t-n)&&"bottom";var r=null==this.affixed,l=r?i:o.top,c=r?s:e;return null!=a&&i<=a?"top":null!=n&&l+c>=t-n&&"bottom"},a.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(a.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},a.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},a.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,i=n.top,o=n.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(o=i=n),"function"==typeof i&&(i=n.top(this.$element)),"function"==typeof o&&(o=n.bottom(this.$element));var r=this.getState(s,e,i,o);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(a.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:s-e-o})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=a,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var a=t(this),n=a.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(a,n)})})}(n)},function(t,e){},,,,,,,,function(t,e,a){function n(t){return a(i(t))}function i(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./index.js":1,"./tabs/blank.js":70,"./tabs/chart.js":74,"./tabs/download.js":79,"./tabs/filter.js":81,"./tabs/map.js":83,"./tabs/metadata.js":87,"./tabs/table.js":89,"./utils.js":28};n.keys=function(){return Object.keys(o)},n.resolve=i,t.exports=n,n.id=69},function(t,e,a){var n,i;n=[a(29),a(22),a(23),a(25),a(26),a(27),a(33),a(71),a(72),a(73),a(47)],i=function(t,e,a,n,i,o,s,r,l,c,u){"use strict";function h(e){return t.extend(!0,this,{initial:e,$el:t(e.el),box:e.box,model:e.model,id:e.id}),this.channels={},this.state={},this.lang=this.initial.lang,this}var d={TOOLBAR:"[data-role='toolbar']",FILTER_BTN:"[data-role='toolbar'] [data-role='filter-btn']"};return h.prototype.init=function(){e.info("Tab initialized successfully")},h.prototype.show=function(t){var a=this._validateInput();return a===!0?(this._show(t),this.ready=!0,e.info("Tab shown successfully"),this):(e.error("Impossible to create show blank tab"),void e.error(a))},h.prototype.isSuitable=function(){var t=this._isSuitable();return e.info("Bank tab: is tab suitable? ",t),t===!0||(e.error(t),this._setState("errors",t),!1)},h.prototype.dispose=function(){this._dispose(),e.info("Tab disposed successfully")},h.prototype.on=function(t,e,a){var n=a||this;return this.channels[t]||(this.channels[t]=[]),this.channels[t].push({context:n,callback:e}),this},h.prototype.sync=function(t){e.info("Sync tab. State:"+JSON.stringify(t)),t.hasOwnProperty("toolbar")&&this.toolbar?this.toolbar.setValues(t.toolbar,!0):e.warn("Abort toolbar sync")},h.prototype._trigger=function(t){if(!this.channels[t])return!1;for(var e=Array.prototype.slice.call(arguments,1),a=0,n=this.channels[t].length;a<n;a++){var i=this.channels[t][a];i.callback.apply(i.context,e)}return this},h.prototype._validateInput=function(){var t=!0,a=[];return 0===this.$el.length&&(a.push({code:i.MISSING_CONTAINER}),e.warn("Impossible to find tab container")),a.length>0?a:t},h.prototype._show=function(t){this.initialized===!0?e.info("Tab Blank shown again"):(e.info("Tab Blank shown for the first time"),this.syncModel=t,this._attach(),this._initVariables(),this._renderComponents(),this._bindEventListeners(),this.initialized=!0)},h.prototype._attach=function(){var t=r(this);this.$el.html(t)},h.prototype._initVariables=function(){this.$toolbar=this.$el.find(d.TOOLBAR),this.$toolbarBtn=this.$el.find(d.FILTER_BTN)},h.prototype._bindEventListeners=function(){var i=this;u.subscribe(this._getEventTopic("toolbar"),this,this._onToolbarEvent),this.$el.find("[data-action]").each(function(){var a=t(this),n=a.data("action"),o=i._getEventTopic(n);a.on("click",{event:o,tab:i},function(t){t.preventDefault(),e.info("Raise event: "+t.data.event),u.publish(o,{target:this,tab:t.data.tab})})}),this.$toolbarBtn.on("click",a.bind(this._onToolbarBtnClick,this)),n.syncTabsOnToolbarChange===!0&&this.toolbar.on("change",a.bind(this._onToolbarChangeEvent,this))},h.prototype._onToolbarEvent=function(t){e.info("Listen to event: "+this._getEventTopic("toolbar")),e.trace(t);var a="up"!==this.toolbarPosition?"up":"down";this._slideToolbar(a)},h.prototype._slideToolbar=function(t){"up"!==t?(this.$toolbar.show(),this.toolbarPosition="down"):(this.$toolbar.hide(),this.toolbarPosition="up"),this._setState("toolbarPosition",this.toolbarPosition)},h.prototype._onToolbarBtnClick=function(){this._onToolbarEvent(),this._onConfigurationChange()},h.prototype._onToolbarChangeEvent=function(){this._onConfigurationChange()},h.prototype._onConfigurationChange=function(){this._trigger("filter",this.toolbar.getValues())},h.prototype._renderComponents=function(){this._renderToolbar(),this._slideToolbar(this.initial.toolbarPosition||n.toolbarPosition)},h.prototype._renderToolbar=function(){e.info("Blank tab render toolbar"),this.toolbar=new l({selectors:this._createFilterConfiguration(c),el:this.$el.find(d.TOOLBAR)})},h.prototype._createFilterConfiguration=function(){var e=t.extend(!0,{},s.mergeConfigurations(c,this.syncModel||{}));return e},h.prototype._unbindEventListeners=function(){this.$toolbarBtn.off(),this.$el.find("[data-action]").off(),u.unsubscribe(this._getEventTopic("toolbar"),this._onToolbarEvent)},h.prototype._isSuitable=function(){var t=!0,e=[];return e.length>0?e:t},h.prototype._dispose=function(){this.ready===!0&&this._unbindEventListeners()},h.prototype._getEventTopic=function(t){return o[t]?o[t]+this.id:t+this.id},h.prototype._setState=function(e,a){this._assign(this.state,e,a),this._trigger("state",t.extend(!0,{},this.state))},h}.apply(e,n),!(void 0!==i&&(t.exports=i))},function(t,e,a){var n=a(3);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var o;return'<div data-role="toolbar" class="col-md-6">\n    <button data-action="toolbar" class="btn btn-default" type="button">toolbar</button>\n\n    <button data-role="filter-btn" class="btn btn-default" type="button">\n        <span class="glyphicon glyphicon-filter" aria-hidden="true"></span>\n    </button>\n</div>\n\n<div>\n    <button data-action="toolbar" class="btn btn-default" type="button">toolbar</button>\n\n    <div class="alert alert-warning" role="alert"><h1>Hi i\'m the blank tab: '+t.escapeExpression((o=null!=(o=a.id||(null!=e?e.id:e))?o:a.helperMissing,"function"==typeof o?o.call(null!=e?e:{},{name:"id",hash:{},data:i}):o))+"</h1></div>\n</div>"},useData:!0})},function(t,e){t.exports=d},function(t,e,a){var n;n=function(){"use strict";return{sort:{selector:{id:"sortable",source:[{value:"sort_1",label:"Sort 1",parent:"group_1"},{value:"sort_2",label:"Sort 2",parent:"group_1"},{value:"sort_3",label:"Sort 3",parent:"group_2"},{value:"sort_4",label:"Sort 4",parent:"group_3"}],config:{}},template:{hideSwitch:!0,hideRemoveButton:!0,title:"Sort dimension"}},aggregation:{selector:{id:"dropdown",source:[{value:"aggregation_1",label:"Aggregation 1"},{value:"aggregation_2",label:"Aggregation 2"},{value:"aggregation_3",label:"Aggregation 3"},{value:"aggregation_4",label:"Aggregation 4"}],config:{maxItems:1}},template:{hideSwitch:!0,hideRemoveButton:!0,title:"Aggregation function"}},renderer:{selector:{id:"dropdown",source:[{value:"table",label:"Grid"},{value:"chart",label:"Chart"}],config:{maxItems:1}},template:{hideSwitch:!0,hideRemoveButton:!0,title:"Renderer function"}},decimal_separator:{selector:{id:"input",type:"radio","default":["dot"],source:[{value:"dot",label:"Dot"},{value:"comma",label:"Comma"}]},template:{hideSwitch:!0,hideRemoveButton:!0,title:"Decimal separator"}},thousand:{selector:{id:"input",type:"radio","default":["enable"],source:[{value:"enable",label:"Enable"},{value:"disable",label:"Disable"}]},template:{hideSwitch:!0,hideRemoveButton:!0,title:"Thousand"}},decimals:{selector:{id:"input",type:"number",source:[{value:"2"}]},template:{hideSwitch:!0,hideRemoveButton:!0,title:"Decimal digit"}}}}.call(e,a,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,a){var n,i;n=[a(29),a(22),a(23),a(25),a(26),a(27),a(28),a(33),a(75),a(72),a(76),a(31),a(78),a(47)],i=function(t,e,a,n,i,o,s,r,l,c,u,h,d,p){"use strict";function f(e){return t.extend(!0,this,{initial:e,$el:t(e.el),box:e.box,model:e.model,id:e.id}),this.channels={},this.state={},this.cache=this.initial.cache,this.lang=this.initial.lang,this}var b={TOOLBAR:"[data-role='toolbar']",FILTER_BTN:"[data-role='filter-btn']"};return f.prototype.init=function(){e.info("Tab initialized successfully")},f.prototype.show=function(t){var a=this._validateInput();return a===!0?(this._show(t),e.info("Chart tab shown successfully"),this):(e.error("Impossible to create show table tab"),void e.error(a))},f.prototype.isSuitable=function(){var t=this._isSuitable();return e.info("Chart tab: is tab suitable? ",t),t===!0||(e.error(t),this._setState("errors",t),!1)},f.prototype.dispose=function(){this._dispose(),e.info("Tab disposed successfully")},f.prototype.on=function(t,e,a){var n=a||this;return this.channels[t]||(this.channels[t]=[]),this.channels[t].push({context:n,callback:e}),this},f.prototype.sync=function(t){return e.info("Sync tab. State:"+JSON.stringify(t)),this.syncState=t,this.toSync=!0,this},f.prototype.redraw=function(){this.chart&&t.isFunction(this.chart.redraw)?this.chart.redraw():e.warn("Abort redraw")},f.prototype._trigger=function(t){if(!this.channels[t])return!1;for(var e=Array.prototype.slice.call(arguments,1),a=0,n=this.channels[t].length;a<n;a++){var i=this.channels[t][a];i.callback.apply(i.context,e)}return this},f.prototype._validateInput=function(){var t=!0,a=[];return 0===this.$el.length&&(a.push({code:i.MISSING_CONTAINER}),e.warn("Impossible to find tab container")),a.length>0?a:t},f.prototype._show=function(t){return this.type=t.type,this.initialized!==!0?(e.info("Tab chart shown for the first time"),this._attach(),this._initVariables(),this._renderComponents(),this._bindEventListeners(),this.initialized=!0):(e.info("Tab chart shown again"),this.toSync===!0&&(e.info("Sync tab. State:"+JSON.stringify(this.syncState)),this.syncState.hasOwnProperty("toolbar")&&this.toolbar?(this.toolbar.setValues(this.syncState.toolbar,!0),this.type=t.type,this._renderChart()):this._updateChart())),this},f.prototype._attach=function(){var e=l(t.extend(!0,{},this,h));this.$el.html(e)},f.prototype._initVariables=function(){this.$toolbar=this.$el.find(b.TOOLBAR),this.$toolbarBtn=this.$el.find(b.FILTER_BTN)},f.prototype._bindEventListeners=function(){var i=this;p.subscribe(this._getEventTopic("toolbar"),this,this._onToolbarEvent),this.$el.find("[data-action]").each(function(){var a=t(this),n=a.data("action"),o=i._getEventTopic(n);a.on("click",{event:o,tab:i},function(t){t.preventDefault(),e.info("Raise event: "+t.data.event),p.publish(o,{target:this,tab:t.data.tab})})}),this.$toolbarBtn.on("click",a.bind(this._onToolbarBtnClick,this)),n.syncTabsOnToolbarChange===!0?this.toolbar.on("change",a.bind(this._onToolbarChangeEvent,this)):e.warn("Tab sync is disabled by configuration")},f.prototype._onToolbarEvent=function(t){e.info("Listen to event: "+this._getEventTopic("toolbar")),e.trace(t);var a="up"!==this.toolbarPosition?"up":"down";this._slideToolbar(a)},f.prototype._slideToolbar=function(t){"up"!==t?(this.$toolbar.addClass("in"),this.$toolbarBtn.addClass("in"),this.toolbarPosition="down"):(this.$toolbar.removeClass("in"),this.$toolbarBtn.removeClass("in"),this.toolbarPosition="up"),this._setState("toolbarPosition",this.toolbarPosition)},f.prototype._onToolbarBtnClick=function(){this._onToolbarEvent(),this._onConfigurationChange()},f.prototype._renderChart=function(){var a=this.toolbar.getValues(),i=s.getChartCreatorConfiguration(a);return n.renderVisualizationComponents===!1?void e.warn("Render Visualization component blocked by configuration"):void(this.chart=new d(t.extend(!0,{},i,{model:this.model,el:"#chart_"+this.id,type:this.type})))},f.prototype._updateChart=function(){var a=this.toolbar.getValues(),i=s.getChartCreatorConfiguration(a);return n.renderVisualizationComponents===!1?void e.warn("Render Visualization component blocked by configuration"):void this.chart.update(t.extend(!0,{},i,{model:this.model,el:"#chart_"+this.id,type:this.type}))},f.prototype._renderToolbar=function(){e.info("Chart tab render toolbar"),this.toolbar=new c({selectors:this._createFilterConfiguration(),cache:this.cache,el:this.$el.find(b.TOOLBAR),environment:this.initial.environment}),this.toolbar.on("ready",a.bind(this._renderChart,this))},f.prototype._createFilterConfiguration=function(){var e=s.getChartToolbarConfig(this.model),a=t.extend(!0,{},u,e),n=t.extend(!0,{},r.mergeConfigurations(a,this.syncState.toolbar||{}));return n},f.prototype._onToolbarChangeEvent=function(){this._onConfigurationChange()},f.prototype._onConfigurationChange=function(){this._trigger("filter",this.toolbar.getValues()),this._renderChart()},f.prototype._renderComponents=function(){this._renderToolbar();var t=this.initial.toolbarPosition||n.toolbarPosition;"up"===t?this.toolbarPosition="up":this.toolbarPosition="down"},f.prototype._unbindEventListeners=function(){this.$toolbarBtn.off(),this.$el.find("[data-action]").off(),p.unsubscribe(this._getEventTopic("toolbar"),this._onToolbarEvent)},f.prototype._isSuitable=function(){var t=!0,e=[],a=s.getNestedProperty("metadata.meContent.resourceRepresentationType",this.model);return"dataset"!==a&&e.push({code:i.INCOMPATIBLE_RESOURCE_TYPE}),e.length>0?e:t},f.prototype._dispose=function(){this.ready===!0&&this._unbindEventListeners()},f.prototype._getEventTopic=function(t){return o[t]?o[t]+this.id:t+this.id},f.prototype._setState=function(e,a){r.assign(this.state,e,a),this._trigger("state",t.extend(!0,{},this.state))},f.prototype._getNestedProperty=function(e,a){for(var a=t.extend(!0,{},a),n=e.split(".");n.length&&(a=a[n.shift()]););return a},f}.apply(e,n),!(void 0!==i&&(t.exports=i))},function(t,e,a){var n=a(3);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],
main:function(t,e,a,n,i){var o,s=null!=e?e:{},r=a.helperMissing,l="function",c=t.escapeExpression;return'<button data-action="toolbar" class="btn btn-floating btn-fx-toolbar" type="button" title="'+c((o=null!=(o=a.tooltip_toolbar_button||(null!=e?e.tooltip_toolbar_button:e))?o:r,typeof o===l?o.call(s,{name:"tooltip_toolbar_button",hash:{},data:i}):o))+'"><span class="icojam_options2"></span></button>\n<button data-role="filter-btn" class="btn btn-floating btn-fx-toolbar-confirm" type="button"><span class="icojam_check"></span></button>\n\n<div data-role="toolbar" class="col-md-6">\n    <div data-selector="dimensionsSort"></div>\n</div>\n\n<div class="tab-item-content-wrapper">\n\t<div id="chart_'+c((o=null!=(o=a.id||(null!=e?e.id:e))?o:r,typeof o===l?o.call(s,{name:"id",hash:{},data:i}):o))+'" class="tab-item-content"></div>\n</div>'},useData:!0})},function(t,e,a){var n,i;n=[a(29),a(77)],i=function(t,e){"use strict";return t.extend(!0,{},e,{show:{selector:{id:"input",type:"checkbox",source:[{value:"code",label:"Code"}]},template:{title:"Show"}}})}.apply(e,n),!(void 0!==i&&(t.exports=i))},function(t,e,a){var n;n=function(){"use strict";return{format:{selector:{id:"dropdown",source:[{value:"localstring",label:"Local String"},{value:"value",label:"Raw Value"}],config:{maxItems:1},"default":["localstring"]},template:{title:"Format"}},decimals:{selector:{id:"dropdown",source:[{value:"0",label:0},{value:"1",label:1},{value:"2",label:2},{value:"3",label:3},{value:"4",label:4},{value:"5",label:5}],config:{maxItems:1},"default":[2]},template:{title:"Decimals"},className:"testDec"}}}.call(e,a,e,t),!(void 0!==n&&(t.exports=n))},function(t,e){t.exports=p},function(t,e,a){var n,i;n=[a(29),a(22),a(23),a(25),a(26),a(27),a(28),a(80),a(45)],i=function(t,e,a,n,i,o,s,r,l){"use strict";function c(e){return t.extend(!0,this,{initial:e,$el:t(e.el),box:e.box,model:e.model,id:e.id}),this.channels={},this.state={},this.report=new l({cache:this.initial.cache}),this.lang=this.initial.lang,this}var u={CONTAINER:'[data-role="download"]',DOWNLOAD_BTN:'[data-action="download"]'};return c.prototype.init=function(){e.info("Tab initialized successfully")},c.prototype.show=function(t){var a=this._validateInput();return a===!0?(this._show(t),this.ready=!0,e.info("trigger 'ready' event"),this._trigger("ready"),e.info("Tab shown successfully"),this):(e.error("Impossible to create show download tab"),void e.error(a))},c.prototype.isSuitable=function(){var t=this._isSuitable();return e.info("Download tab: is tab suitable? ",t),t===!0||(e.error(t),this._setState("errors",t),!1)},c.prototype.dispose=function(){this._dispose(),e.info("Tab disposed successfully")},c.prototype.on=function(t,e,a){var n=a||this;return this.channels[t]||(this.channels[t]=[]),this.channels[t].push({context:n,callback:e}),this},c.prototype.sync=function(t){e.info("Sync tab. State:"+JSON.stringify(t)),t.hasOwnProperty("toolbar")&&this.toolbar?this.toolbar.setValues(t.toolbar,!0):e.warn("Abort toolbar sync")},c.prototype._trigger=function(t){if(!this.channels[t])return!1;for(var e=Array.prototype.slice.call(arguments,1),a=0,n=this.channels[t].length;a<n;a++){var i=this.channels[t][a];i.callback.apply(i.context,e)}return this},c.prototype._validateInput=function(){var t=!0,a=[];return 0===this.$el.length&&(a.push({code:i.MISSING_CONTAINER}),e.warn("Impossible to find tab container")),a.length>0?a:t},c.prototype._show=function(t){this.initialized===!0?e.info("Tab Download shown again"):(e.info("Tab Download shown for the first time"),this.syncModel=t,this._attach(),this._initVariables(),this._renderComponents(),this._bindEventListeners(),this.initialized=!0)},c.prototype._attach=function(){var t=r(this);this.$el.html(t)},c.prototype._initVariables=function(){},c.prototype._bindEventListeners=function(){this.$el.find(u.DOWNLOAD_BTN).on("click",a.bind(function(e){var a=t(e.target),n=a.data("format");"pdf"==n?this._downloadMetadata(n):this._downloadData(n)},this))},c.prototype._downloadData=function(t){var e=this.model.data?this.model:{metadata:{uid:this.model.metadata.uid},data:[]},a={resource:e,input:{config:{}},output:{config:{lang:this.box.lang.toUpperCase()}}};this.report["export"]({format:"table",config:a})},c.prototype._downloadMetadata=function(t){var e=this.model.metadata.title.EN.replace(/[^a-z0-9]/gi,"_").toLowerCase(),a=this.model.metadata.dsd&&this.model.metadata.dsd.contextSystem&&"uneca"===this.model.metadata.dsd.contextSystem?"uneca":"fao",n={resource:{metadata:{uid:this.model.metadata.uid},data:[]},input:{config:{}},output:{config:{template:a,lang:this.box.lang.toUpperCase(),fileName:e+".pdf"}}};this.report["export"]({format:"metadata",config:n})},c.prototype._renderComponents=function(){},c.prototype._unbindEventListeners=function(){this.$el.find(u.DOWNLOAD_BTN).off()},c.prototype._isSuitable=function(){var t=!0,e=[],a=s.getNestedProperty("metadata.meContent.resourceRepresentationType",this.model);return"dataset"!==a&&e.push({code:i.INCOMPATIBLE_RESOURCE_TYPE}),e.length>0?e:t},c.prototype._dispose=function(){this.ready===!0&&this._unbindEventListeners()},c.prototype._getEventTopic=function(t){return o[t]?o[t]+this.id:t+this.id},c.prototype._setState=function(e,a){Utils.assign(this.state,e,a),this._trigger("state",t.extend(!0,{},this.state))},c}.apply(e,n),!(void 0!==i&&(t.exports=i))},function(t,e,a){var n=a(3);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){return'<div data-role="download">\n\n    <div class="row">\n        <div class="col-xs-6">\n            <div class="jumbotron text-center">\n\n                <h1>\n                    <span class="glyphicon glyphicon-cloud-download" aria-hidden="true"></span>\n                </h1>\n                <p>Data:</p>\n                <p>\n                <div class="btn-group" role="group" aria-label="...">\n                    <button data-action="download" data-format="xls" type="button" class="btn btn-default">Excel\n                    </button>\n                </div>\n                </p>\n            </div>\n        </div>\n        <div class="col-xs-6">\n            <div class="jumbotron text-center">\n\n                <h1>\n                    <span class="glyphicon glyphicon-cloud-download" aria-hidden="true"></span>\n                </h1>\n                <p>Metadata:</p>\n                <p>\n                <div class="btn-group" role="group" aria-label="...">\n                    <button data-action="download" data-format="pdf" type="button" class="btn btn-default">PDF</button>\n                </div>\n\n                </p>\n            </div>\n        </div>\n\n    </div>\n\n</div>'},useData:!0})},function(t,e,a){var n,i;n=[a(29),a(22),a(23),a(25),a(26),a(27),a(28),a(33),a(82),a(72),a(31)],i=function(t,e,a,n,i,o,s,r,l,c,u){"use strict";function h(e){return t.extend(!0,this,d,{initial:e,$el:t(e.el),box:e.box,model:e.model,id:e.id,onReady:e.onReady,values:e.values}),this.channels={},this.state={},this.cache=this.initial.cache,this.lang=this.initial.lang,this}var d={template:{hideFooterButtons:!0}},p={CONTAINER:"[data-role='filter']",SUBMIT_BTN:"[data-role='submit']",RESET_BTN:"[data-role='reset']"};return h.prototype.init=function(){e.info("Tab initialized successfully")},h.prototype.show=function(t){var a=this._validateInput();return a===!0?(this._show(t),this.ready=!0,e.info("Tab shown successfully"),this):(e.error("Impossible to create show filter tab"),void e.error(a))},h.prototype.isSuitable=function(){var t=this._isSuitable();return e.info("Filter tab: is tab suitable?",t),t===!0||(e.error(t),this._setState("errors",t),!1)},h.prototype.dispose=function(){this._dispose(),e.info("Filter tab disposed successfully")},h.prototype.on=function(t,e,a){var n=a||this;return this.channels[t]||(this.channels[t]=[]),this.channels[t].push({context:n,callback:e}),this},h.prototype.sync=function(t){e.info("Sync tab. State:"+JSON.stringify(t)),t.hasOwnProperty("toolbar")&&this.filter?this.filter.setValues(t.toolbar,!0):e.warn("Abort toolbar sync")},h.prototype.setValues=function(t,a){return e.info("Set values. values:"+JSON.stringify(t)),this.filter?this.filter.setValues(t,a):{}},h.prototype.getValues=function(t){return e.info("Get values. format:"+t),this.filter?this.filter.getValues(t):{}},h.prototype.rebuild=function(e){this.initial.config=e.config,this.initial.template=t.extend(!0,{},this.template),this.initial.labels=t.extend(!0,{},this.labels),this.initial.values=t.extend(!0,{},this.getValues(null)),this.dispose(),this.show()},h.prototype._trigger=function(t){if(!this.channels[t])return!1;for(var e=Array.prototype.slice.call(arguments,1),a=0,n=this.channels[t].length;a<n;a++){var i=this.channels[t][a];i.callback.apply(i.context,e)}return this},h.prototype._validateInput=function(){var t=!0,a=[];return 0===this.$el.length&&(a.push({code:i.MISSING_CONTAINER}),e.warn("Impossible to find tab container")),a.length>0?a:t},h.prototype._show=function(t){this.initialized===!0?e.info("Tab Filter shown again"):(e.info("Tab Filter shown for the first time"),this.syncModel=t,this._attach(),this._initVariables(),this._renderComponents(),this._bindEventListeners(),this.initialized=!0)},h.prototype._attach=function(){var e=t.extend(!0,{},d.template,this.template,u[this.lang.toLowerCase()],this.labels),a=l(e);this.$el.html(a)},h.prototype._initVariables=function(){this.$submitBtn=this.$el.find(p.SUBMIT_BTN),this.$resetBtn=this.$el.find(p.RESET_BTN),this.config=this.initial.config,this.values=this.initial.values||{},this.labels=this.initial.labels||{},this.template=this.initial.template,this.common=this.initial.common||{}},h.prototype._bindEventListeners=function(){this.$submitBtn.on("click",a.bind(this._onSubmitBtnClick,this)),this.$resetBtn.on("click",a.bind(this._onResetBtnClick,this)),this.filter.on("ready",a.bind(this._onFilterReady,this))},h.prototype._onFilterReady=function(){this.$submitBtn.prop("disabled",!1),this.$resetBtn.prop("disabled",!1),e.info("trigger 'ready' event"),this._trigger("ready"),this.filter.on("change",a.bind(this._onFilterChange,this))},h.prototype._onFilterChange=function(){var t=this.filter.getValues();e.info("trigger 'change' event "+JSON.stringify(t)),this._trigger("change",t)},h.prototype._onSubmitBtnClick=function(){var t=this.filter.getValues();e.info("trigger 'submit' event"+JSON.stringify(t)),this._trigger("submit",t)},h.prototype._onResetBtnClick=function(t){e.info("trigger 'reset' event"),this.filter.reset(),this._trigger("reset")},h.prototype._renderComponents=function(){e.info("render filter"),this.filter=new c({selectors:this._createFilterConfiguration(),el:this.$el.find(p.CONTAINER),cache:this.cache,template:this.template,common:this.common,values:this.values,environment:this.initial.environment})},h.prototype._createFilterConfiguration=function(){var e=this.config?t.extend(!0,{},this.config):r.createConfiguration({model:this.model}),a=t.extend(!0,{},r.mergeConfigurations(e,this.syncModel||{})),n=t.extend(!0,{},r.mergeConfigurations(a,this.values||{}));return n},h.prototype._unbindEventListeners=function(){this.$submitBtn.off(),this.$resetBtn.off()},h.prototype._isSuitable=function(){var t=!0,e=[],a=s.getNestedProperty("metadata.meContent.resourceRepresentationType",this.model);return"dataset"!==a&&e.push({code:i.INCOMPATIBLE_RESOURCE_TYPE}),e.length>0?e:t},h.prototype._dispose=function(){this.ready===!0&&(this._unbindEventListeners(),this.filter.dispose()),this.$el.empty(),this.initialized=!1},h.prototype._getEventTopic=function(t){return o[t]?o[t]+this.id:t+this.id},h.prototype._setState=function(e,a){s.assign(this.state,e,a),this._trigger("state",t.extend(!0,{},this.state))},h}.apply(e,n),!(void 0!==i&&(t.exports=i))},function(t,e,a){var n=a(3);t.exports=(n["default"]||n).template({1:function(t,e,a,n,i){var o,s=null!=e?e:{},r=a.helperMissing,l="function",c=t.escapeExpression;return'    <div class="row">\n        <div class="col-xs-12">\n            <button type="button" data-role="submit" class="btn btn-default" disabled>'+c((o=null!=(o=a.submit_button||(null!=e?e.submit_button:e))?o:r,typeof o===l?o.call(s,{name:"submit_button",hash:{},data:i}):o))+'</button>\n            <button type="button" data-role="reset" class="btn btn-default" disabled>'+c((o=null!=(o=a.reset_button||(null!=e?e.reset_button:e))?o:r,typeof o===l?o.call(s,{name:"reset_button",hash:{},data:i}):o))+"</button>\n        </div>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var o;return'<div data-role="filter"></div>\n\n\n\n'+(null!=(o=a.unless.call(null!=e?e:{},null!=e?e.hideFooterButtons:e,{name:"unless",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?o:"")},useData:!0})},function(t,e,a){var n,i;n=[a(29),a(22),a(23),a(25),a(26),a(27),a(28),a(33),a(84),a(72),a(85),a(31),a(86),a(47)],i=function(t,e,a,n,i,o,s,r,l,c,u,h,d,p){function f(e){return t.extend(!0,this,{initial:e,$el:t(e.el),box:e.box,model:e.model,id:e.id}),this.channels={},this.state={},this.cache=this.initial.cache,this.lang=this.initial.lang,this}var b={TOOLBAR:"[data-role='toolbar']",TOOLBAR_BTN:"[data-role='filter-btn']"};return f.prototype.init=function(){e.info("Map initialized successfully")},f.prototype.show=function(t){var a=this._validateInput();return a===!0?(this._show(t),e.info("Map tab shown successfully"),this):(e.error("Impossible to create show map tab"),void e.error(a))},f.prototype.isSuitable=function(){var t=this._isSuitable();return e.info("Map tab: is tab suitable?",t),t===!0||(e.error(t),this._setState("errors",t),!1)},f.prototype.dispose=function(){this._dispose(),e.info("Map disposed successfully")},f.prototype.on=function(t,e,a){var n=a||this;return this.channels[t]||(this.channels[t]=[]),this.channels[t].push({context:n,callback:e}),this},f.prototype.sync=function(t){return e.info("Sync tab. State:"+JSON.stringify(t)),this.syncState=t,this.toSync=!0,this},f.prototype.update=function(t){console.log("UPDATE MAP SETTINGS",t)},f.prototype.redraw=function(){this.map?this.map.invalidateSize():e.warn("Abort redraw")},f.prototype._trigger=function(t){if(!this.channels[t])return!1;for(var e=Array.prototype.slice.call(arguments,1),a=0,n=this.channels[t].length;a<n;a++){var i=this.channels[t][a];i.callback.apply(i.context,e)}return this},f.prototype._validateInput=function(){var t=!0,a=[];return 0===this.$el.length&&(a.push({code:i.MISSING_CONTAINER}),e.warn("Impossible to find tab container")),a.length>0?a:t},f.prototype._show=function(t){return this.initialized!==!0?(e.info("Map map shown for the first time"),this._attach(),this._initVariables(),this._renderComponents(),this._bindEventListeners(),this.initialized=!0):e.info("Tab Map shown again"),this.toSync===!0&&(e.info("Sync tab. State:"+JSON.stringify(this.syncState)),this.syncState.hasOwnProperty("toolbar")&&this.toolbar&&this.toolbar.setValues(this.syncState.toolbar,!0),this.syncState.hasOwnProperty("map")&&this.addLayersByFilter(this.syncState.map)),this},f.prototype._attach=function(){var e=l(t.extend(!0,{},this,h));this.$el.html(e)},f.prototype._initVariables=function(){this.$toolbar=this.$el.find(b.TOOLBAR),this.$toolbarBtn=this.$el.find(b.TOOLBAR_BTN)},f.prototype._bindEventListeners=function(){var n=this;p.subscribe(this._getEventTopic("toolbar"),this,this._onToolbarEvent),this.$el.find("[data-action]").each(function(){var a=t(this),i=a.data("action"),o=n._getEventTopic(i);a.on("click",{event:o,tab:n},function(t){t.preventDefault(),e.info("Raise event: "+t.data.event),p.publish(o,{target:this,tab:t.data.tab})})}),this.$toolbarBtn.on("click",a.bind(this._onToolbarBtnClick,this))},f.prototype._onToolbarEvent=function(t){e.info("Listen to event: "+this._getEventTopic("toolbar")),e.trace(t);var a="up"!==this.toolbarPosition?"up":"down",n=this.map.leafletMap,i=n.latLngToContainerPoint(n.getCenter()),o=i;"down"===a?o.x-=200:"up"===a&&(o.x+=200),n.panTo(n.containerPointToLatLng(o)),this._slideToolbar(a)},f.prototype._slideToolbar=function(t){"up"!==t?(this.$toolbar.addClass("in"),this.$toolbarBtn.addClass("in"),this.toolbarPosition="down"):(this.$toolbar.removeClass("in"),this.$toolbarBtn.removeClass("in"),this.toolbarPosition="up"),this._setState("toolbarPosition",this.toolbarPosition)},f.prototype._onToolbarBtnClick=function(){this._onToolbarEvent(),this._renderMap()},f.prototype._renderMap=function(){var t=this;if(n.renderVisualizationComponents===!1)return void e.warn("Render Visualization component blocked by configuration");var a=this.$el.find("#map_"+this.id),i=this.lang?this.lang.toUpperCase():"EN",o={el:a,lang:i,fenix_ui_map:{lang:i,plugins:{fullscreen:!0,scalecontrol:"bottomleft"},guiController:{container:this.$el.find(b.TOOLBAR),wmsLoader:!1},baselayers:{cartodb:{title_en:"CartoDB light",url:"http://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png",subdomains:"abcd",maxZoom:19},osm:{url:"http://{s}.tiles.wmflabs.org/osm-no-labels/{z}/{x}/{y}.png",title_en:"Openstreetmap",maxZoom:16},world_imagery:{url:"http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",title_en:"World Imagery"}},legendOptions:{fontColor:"0x000000",fontSize:"12",bgColor:"0xFFFFFF"}}},r=s.getNestedProperty("metadata.meContent.resourceRepresentationType",t.model);if("dataset"===r)o.model=t.model;else if("geographic"===r){var l=s.getNestedProperty("metadata.dsd.layerName",t.model),c=s.getNestedProperty("metadata.dsd.workspace",t.model);o.uid=c+":"+l}this.map=new d(o),window.MMM=this,this._filterLayers={}},f.prototype.addLayersByFilter=function(t){for(var e in t.values.layers){var a=t.values.layers[e];layerTitle=t.labels.layers[a],this._filterLayers&&!this._filterLayers.hasOwnProperty(a)&&(this._filterLayers[a]=new FM.layer({urlWMS:"http://fenix.fao.org/demo/fenix/geoserver/wms",layers:a,layertitle:"EarthStat Layer: "+layerTitle,opacity:"0.8",layertype:"WMS"}),this.map.fenixMap.addLayer(this._filterLayers[a]))}},f.prototype._createFilterConfiguration=function(){var e=s.getMapToolbarConfig(this.model),a=t.extend(!0,{},u,e),n=t.extend(!0,{},r.mergeConfigurations(a,this.syncState.toolbar||{}));return n},f.prototype._renderToolbar=function(){e.info("Map tab render toolbar");var t=this;this.toolbar=new c({selectors:this._createFilterConfiguration(),el:this.$el.find(b.TOOLBAR),cache:this.cache,environment:this.initial.environment}),this.toolbar.on("ready",a.bind(this._renderMap,this)),this.toolbar.on("change",function(e){var a=t.toolbar.getValues();a.values&&(a.values.map_boundaries[0]?t.map.fenixMap.boundariesShow():t.map.fenixMap.boundariesHide(),a.values.map_labels[0]?t.map.fenixMap.labelsShow():t.map.fenixMap.labelsHide())})},f.prototype._renderComponents=function(){this._renderToolbar();var t=this.initial.toolbarPosition||n.toolbarPosition;"up"===t?this.toolbarPosition="up":this.toolbarPosition="down"},f.prototype._unbindEventListeners=function(){this.$el.find("[data-action]").off(),p.unsubscribe(this._getEventTopic("toolbar"),this._onToolbarEvent)},f.prototype._isSuitable=function(){var t=!0,e=[],n=s.getNestedProperty("metadata.meContent.resourceRepresentationType",this.model);"dataset"!==n&&"geographic"!==n&&e.push({code:i.INCOMPATIBLE_RESOURCE_TYPE});var o=s.getNestedProperty("metadata.dsd.columns",this.model),r=a.findWhere(o,{subject:"geo"});return r||e.push({code:i.MISSING_GEO_COLUMN}),e.length>0?e:t},f.prototype._dispose=function(){this._unbindEventListeners()},f.prototype._getEventTopic=function(t){return o[t]?o[t]+this.id:t+this.id},f.prototype._setState=function(e,a){s.assign(this.state,e,a),this._trigger("state",t.extend(!0,{},this.state))},f.prototype._getTestLayer=function(){var t=[["2","Afghanistan","512094.0","tonnes"]],e=a.map(t,function(t){var e={};return e[t[0]]=parseFloat(t[2]),e}),n="areanamee",i="faost_code",o="Tonnes";return new FM.layer({layers:"fenix:gaul0_faostat_3857",layertitle:"Rice Paddy Production 2013",opacity:"0.5",joincolumn:i,joincolumnlabel:n,joindata:e,mu:o,measurementunit:o,layertype:"JOIN",jointype:"shaded",openlegend:!1,defaultgfi:!0,colorramp:"Reds",lang:"en",customgfi:{content:{en:"<div class='fm-popup'>{{"+n+"}} <div class='fm-popup-join-content'>{{{"+i+"}}}</div></div>"},showpopup:!0}})},f}.apply(e,n),!(void 0!==i&&(t.exports=i))},function(t,e,a){var n=a(3);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var o,s=null!=e?e:{},r=a.helperMissing,l="function",c=t.escapeExpression;return'<button data-action="toolbar" class="btn btn-floating btn-fx-toolbar" type="button" title="'+c((o=null!=(o=a.tooltip_toolbar_button||(null!=e?e.tooltip_toolbar_button:e))?o:r,typeof o===l?o.call(s,{name:"tooltip_toolbar_button",hash:{},data:i}):o))+'"><span class="icojam_options2"></span></button>\n<button data-role="filter-btn" class="btn btn-floating btn-fx-toolbar-confirm" type="button"><span class="icojam_check"></span></button>\n\n<div data-role="toolbar" class="col-md-6"></div>\n\n<div class="tab-item-content-wrapper">\n    <div id="map_'+c((o=null!=(o=a.id||(null!=e?e.id:e))?o:r,typeof o===l?o.call(s,{name:"id",hash:{},data:i}):o))+'" class="tab-item-content"></div>\n</div>'},useData:!0})},function(t,e,a){var n,i;n=[a(29),a(77)],i=function(t,e){"use strict";return{map_boundaries:{selector:{id:"input",type:"checkbox",source:[{value:!0,label:"Show Map Boundaries"}]}},map_labels:{selector:{id:"input",type:"checkbox",source:[{value:!0,label:"Show Map Labels"}]}}}}.apply(e,n),!(void 0!==i&&(t.exports=i))},function(t,e){t.exports=f},function(t,e,a){var n,i;n=[a(29),a(22),a(23),a(25),a(26),a(27),a(28),a(88),a(34)],i=function(t,e,a,n,i,o,s,r,l){"use strict";function c(e){return t.extend(!0,this,{initial:e,$el:t(e.el),box:e.box,model:e.model,id:e.id}),this.channels={},this.state={},this.cache=this.initial.cache,this.lang=this.initial.lang,this.environment=this.initial.environment,this}return c.prototype.init=function(){e.info("Tab initialized successfully")},c.prototype.show=function(t){var a=this._validateInput();return a===!0?(this._show(t),this.ready=!0,e.info("trigger 'ready' event"),this._trigger("ready"),e.info("Tab shown successfully"),this):(e.error("Impossible to create show metadata tab"),void e.error(a))},c.prototype.isSuitable=function(){var t=this._isSuitable();return e.info("Metadata tab: is tab suitable?",t),t===!0||(e.error(t),this._setState("errors",t),!1)},c.prototype.dispose=function(){this._dispose(),e.info("Metadata tab disposed successfully")},c.prototype.on=function(t,e,a){var n=a||this;return this.channels[t]||(this.channels[t]=[]),this.channels[t].push({context:n,callback:e}),this},c.prototype.sync=function(t){e.info("Sync tab. State:"+JSON.stringify(t)),t.hasOwnProperty("toolbar")&&this.toolbar?this.toolbar.setValues(t.toolbar,!0):e.warn("Abort toolbar sync")},c.prototype._trigger=function(t){if(!this.channels[t])return!1;for(var e=Array.prototype.slice.call(arguments,1),a=0,n=this.channels[t].length;a<n;a++){var i=this.channels[t][a];i.callback.apply(i.context,e)}return this},c.prototype._validateInput=function(){var t=!0,a=[];return 0===this.$el.length&&(a.push({code:i.MISSING_CONTAINER}),e.warn("Impossible to find tab container")),a.length>0?a:t},c.prototype._show=function(t){this.initialized===!0?e.info("Tab Metadata shown again"):(e.info("Tab Metadata shown for the first time"),this.syncModel=t,this._attach(),this._initVariables(),this._renderComponents(),this._bindEventListeners(),this.initialized=!0)},c.prototype._attach=function(){var t=r(this);this.$el.html(t)},c.prototype._initVariables=function(){},c.prototype._bindEventListeners=function(){},c.prototype._renderComponents=function(){e.info("Render metadata viewer"),this.metadataViewer=new l({model:this.model.metadata,cache:this.cache,environment:this.environment,lang:this.lang,el:this.$el.find("#metadata_"+this.id)})},c.prototype._unbindEventListeners=function(){},c.prototype._isSuitable=function(){var t=!0,e=[];return e.length>0?e:t},c.prototype._dispose=function(){this.ready===!0&&(this._unbindEventListeners(),this.metadataViewer.dispose())},c.prototype._getEventTopic=function(t){return o[t]?o[t]+this.id:t+this.id},c.prototype._setState=function(e,a){s.assign(this.state,e,a),this._trigger("state",t.extend(!0,{},this.state))},c}.apply(e,n),!(void 0!==i&&(t.exports=i))},function(t,e,a){var n=a(3);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var o,s,r=t.escapeExpression;return'<div class="tab-item-content-wrapper">\n\n    <div id="metadata_'+r((s=null!=(s=a.id||(null!=e?e.id:e))?s:a.helperMissing,"function"==typeof s?s.call(null!=e?e:{},{name:"id",hash:{},data:i}):s))+'" class="tab-item-content" data-resourceRepresentationType=\''+r(t.lambda(null!=(o=null!=(o=null!=(o=null!=e?e.model:e)?o.metadata:o)?o.meContent:o)?o.resourceRepresentationType:o,e))+"'></div>\n</div>\n\n"},useData:!0})},function(t,e,a){var n,i;n=[a(29),a(22),a(23),a(25),a(26),a(27),a(28),a(33),a(90),a(72),a(91),a(31),a(92),a(47)],i=function(t,e,a,n,i,o,s,r,l,c,u,h,d,p){"use strict";function f(e){return t.extend(!0,this,{initial:e,$el:t(e.el),box:e.box,model:e.model,id:e.id}),this.channels={},this.state={},this.cache=this.initial.cache,this.lang=this.initial.lang,this}var b={TOOLBAR:"[data-role='toolbar']",FILTER_BTN:"[data-role='filter-btn']"};return f.prototype.init=function(){e.info("Tab initialized successfully")},f.prototype.show=function(t){var a=this._validateInput();return a===!0?(this._show(t),e.info("Tab shown successfully"),this):(e.error("Impossible to create show table tab"),void e.error(a))},f.prototype.isSuitable=function(){var t=this._isSuitable();return e.info("Table tab: is tab suitable?",t),t===!0||(e.error(t),this._setState("errors",t),!1)},f.prototype.dispose=function(){this._dispose(),e.info("Table tab disposed successfully")},f.prototype.on=function(t,e,a){var n=a||this;return this.channels[t]||(this.channels[t]=[]),this.channels[t].push({context:n,callback:e}),this},f.prototype.sync=function(t){return e.info("Sync tab. State:"+JSON.stringify(t)),this.syncState=t,this.toSync=!0,this},f.prototype._trigger=function(t){if(!this.channels[t])return!1;for(var e=Array.prototype.slice.call(arguments,1),a=0,n=this.channels[t].length;a<n;a++){var i=this.channels[t][a];i.callback.apply(i.context,e)}return this},f.prototype._validateInput=function(){var t=!0,a=[];return 0===this.$el.length&&(a.push({code:i.MISSING_CONTAINER}),e.warn("Impossible to find tab container")),a.length>0?a:t},f.prototype._show=function(t){return this.initialized!==!0?(e.info("Tab table shown for the first time"),this._attach(),this._initVariables(),this._renderComponents(),this._bindEventListeners(),this.initialized=!0):e.info("Tab table shown again"),this.toSync===!0&&(e.info("Sync tab. State:"+JSON.stringify(this.syncState)),this.syncState.hasOwnProperty("toolbar")&&this.toolbar&&(this.toolbar.setValues(this.syncState.toolbar,!0),this._renderTable())),this},f.prototype._attach=function(){var e=l(t.extend(!0,{},this,h[this.lang.toLowerCase()]));this.$el.html(e)},f.prototype._initVariables=function(){this.$toolbar=this.$el.find(b.TOOLBAR),this.$toolbarBtn=this.$el.find(b.FILTER_BTN)},f.prototype._bindEventListeners=function(){var i=this;p.subscribe(this._getEventTopic("toolbar"),this,this._onToolbarEvent),this.$el.find("[data-action]").each(function(){var a=t(this),n=a.data("action"),o=i._getEventTopic(n);a.on("click",{event:o,tab:i},function(t){t.preventDefault(),e.info("Raise event: "+t.data.event),p.publish(o,{target:this,tab:t.data.tab})})}),this.$toolbarBtn.on("click",a.bind(this._onToolbarBtnClick,this)),n.syncTabsOnToolbarChange===!0&&this.toolbar.on("change",a.bind(this._onToolbarChangeEvent,this)),this.$el.find('[data-toggle="tooltip"]').tooltip()},f.prototype._onToolbarEvent=function(t){e.info("Listen to event: "+this._getEventTopic("toolbar")),e.trace(t);var a="up"!==this.toolbarPosition?"up":"down";this._slideToolbar(a)},f.prototype._slideToolbar=function(t){"up"!==t?(this.$toolbar.addClass("in"),this.$toolbarBtn.addClass("in"),this.toolbarPosition="down"):(this.$toolbar.removeClass("in"),this.$toolbarBtn.removeClass("in"),this.toolbarPosition="up"),this._setState("toolbarPosition",this.toolbarPosition)},f.prototype._onToolbarBtnClick=function(){this._onToolbarEvent(),this._onConfigurationChange()},f.prototype._renderTable=function(){var a=this.toolbar.getValues(),i=s.getTableCreatorConfiguration(a);if(n.renderVisualizationComponents===!1)return void e.warn("Render Visualization component blocked by configuration");var o=t.extend(!0,{},{model:this.model,el:"#table_"+this.id},i);this.table=new d(o)},f.prototype._renderToolbar=function(){e.info("Table tab render toolbar"),this.toolbar=new c({selectors:this._createFilterConfiguration(u),cache:this.cache,el:this.$el.find(b.TOOLBAR),environment:this.initial.environment}),this.toolbar.on("ready",a.bind(this._renderTable,this))},f.prototype._createFilterConfiguration=function(){e.info("Create toolbar config");var a,n,i;return a=s.getTableToolbarConfig(this.model),e.info(a),n=t.extend(!0,{},u,a),e.info(n),i=t.extend(!0,{},r.mergeConfigurations(n,this.syncState.toolbar||{})),e.info(i),i},f.prototype._onToolbarChangeEvent=function(){this._onConfigurationChange()},f.prototype._onConfigurationChange=function(){this._trigger("filter",this.toolbar.getValues()),this._renderTable()},f.prototype._renderComponents=function(){this._renderToolbar();var t=this.initial.toolbarPosition||n.toolbarPosition;"up"===t?this.toolbarPosition="up":this.toolbarPosition="down"},f.prototype._unbindEventListeners=function(){this.$toolbarBtn.off(),this.$el.find("[data-action]").off(),p.unsubscribe(this._getEventTopic("toolbar"),this._onToolbarEvent)},f.prototype._isSuitable=function(){var t=!0,e=[],a=s.getNestedProperty("metadata.meContent.resourceRepresentationType",this.model);return"dataset"!==a&&e.push({code:i.INCOMPATIBLE_RESOURCE_TYPE}),e.length>0?e:t},f.prototype._dispose=function(){this.state.ready===!0&&this._unbindEventListeners()},f.prototype._getEventTopic=function(t){return o[t]?o[t]+this.id:t+this.id},f.prototype._setState=function(e,a){s.assign(this.state,e,a),this._trigger("state",t.extend(!0,{},this.state))},f}.apply(e,n),!(void 0!==i&&(t.exports=i))},function(t,e,a){var n=a(3);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var o,s=null!=e?e:{},r=a.helperMissing,l="function",c=t.escapeExpression;return'<button data-action="toolbar" class="btn btn-floating btn-fx-toolbar" type="button" title="'+c((o=null!=(o=a.tooltip_toolbar_button||(null!=e?e.tooltip_toolbar_button:e))?o:r,typeof o===l?o.call(s,{name:"tooltip_toolbar_button",hash:{},data:i}):o))+'"><span class="icojam_options2"></span></button>\n<button data-role="filter-btn" class="btn btn-floating btn-fx-toolbar-confirm" type="button"><span class="icojam_check"></span></button>\n\n<div data-role="toolbar" class="col-md-6">\n    <div data-selector="dimensionsSort"></div>\n</div>\n\n<div class="tab-item-content-wrapper">\n\t<div id="table_'+c((o=null!=(o=a.id||(null!=e?e.id:e))?o:r,typeof o===l?o.call(s,{name:"id",hash:{},data:i}):o))+'" class="tab-item-content"></div>\n</div>'},useData:!0})},function(t,e,a){var n,i;n=[a(29),a(77)],i=function(t,e){"use strict";return t.extend(!0,{},e,{show:{selector:{id:"input",type:"checkbox",source:[{value:"unit",label:"Unit"},{value:"flag",label:"Flag"},{value:"code",label:"Code"}]},template:{title:"Show"}}})}.apply(e,n),!(void 0!==i&&(t.exports=i))},function(t,e){t.exports=b}])});
//# sourceMappingURL=fenix-ui-visualization-box.min.js.map